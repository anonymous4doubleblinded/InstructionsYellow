{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome! Welcome to the the RESTify Experiment . By participating in this study you actively support research, just for that I already would like to thank you! You will be completely anonymous to anyone outside the study. For any ethical concerns or questions, please contact University's Research Ethics Board . The study reference is: XXX-XX-XX-XXX Two exciting and straightforward engineering tasks await you. However, be aware that... ... you must exactly follow the individual task instructions. ... you must document your activity. For any technical concern, please contact the principal investigator . These instructions are linear. Follow the instructions as you read them. Do not alternate the order or skip sections. Also, do not return to your first task, once you have started your second task. The experiment is finished, once you have reached the end of this documentation. tl;dr: read everything, read it carefully! We will verify your upload before compensation. Before you begin Time itself is a primary metric in this study. Before you start with the two main tasks, please first run through all preliminary tasks . This will ensure that: All required software is ready to use on your system. You obtained the skills required for task completion. Belated installation of required software renders your data worthless to the experiment! Do not continue before you finished the preliminaries . Your main tasks Upon completion of the preliminary tasks , please proceed to the two main tasks. It is absolutely crucial that you respect task order and details. Process the tasks in the requested order. Double check the codebase: Your second task will require you to work on a different application than the first. Make sure to use the right approach: Your second task will require you to apply a different methodology than the first. Record your on screen activity: Run a screen recording from the moment you first open the task description until completion. It is allowed to take breaks and submit multiple screen recordings per task. However, in that case your recordings must in their entirety still cover all your task activity. Furthermore, the submitted file must be named in a way that clearly indicates their chronological order. If you change task order, context or approach, or do not document your activity, your data will be worthless to the experiment! After completion Once completed you must provide all collected data to the PI. Follow the upload instructions , the PI then emails you an Amazon gift card.","title":"Welcome"},{"location":"#welcome","text":"Welcome to the the RESTify Experiment . By participating in this study you actively support research, just for that I already would like to thank you! You will be completely anonymous to anyone outside the study. For any ethical concerns or questions, please contact University's Research Ethics Board . The study reference is: XXX-XX-XX-XXX Two exciting and straightforward engineering tasks await you. However, be aware that... ... you must exactly follow the individual task instructions. ... you must document your activity. For any technical concern, please contact the principal investigator . These instructions are linear. Follow the instructions as you read them. Do not alternate the order or skip sections. Also, do not return to your first task, once you have started your second task. The experiment is finished, once you have reached the end of this documentation. tl;dr: read everything, read it carefully! We will verify your upload before compensation.","title":"Welcome!"},{"location":"#before-you-begin","text":"Time itself is a primary metric in this study. Before you start with the two main tasks, please first run through all preliminary tasks . This will ensure that: All required software is ready to use on your system. You obtained the skills required for task completion. Belated installation of required software renders your data worthless to the experiment! Do not continue before you finished the preliminaries .","title":"Before you begin"},{"location":"#your-main-tasks","text":"Upon completion of the preliminary tasks , please proceed to the two main tasks. It is absolutely crucial that you respect task order and details. Process the tasks in the requested order. Double check the codebase: Your second task will require you to work on a different application than the first. Make sure to use the right approach: Your second task will require you to apply a different methodology than the first. Record your on screen activity: Run a screen recording from the moment you first open the task description until completion. It is allowed to take breaks and submit multiple screen recordings per task. However, in that case your recordings must in their entirety still cover all your task activity. Furthermore, the submitted file must be named in a way that clearly indicates their chronological order. If you change task order, context or approach, or do not document your activity, your data will be worthless to the experiment!","title":"Your main tasks"},{"location":"#after-completion","text":"Once completed you must provide all collected data to the PI. Follow the upload instructions , the PI then emails you an Amazon gift card.","title":"After completion"},{"location":"diagram-bookstore/","text":"Legacy Application Details Below diagram highlights classes and methods of the legacy Book Store application , relevant to your RESTification task. For more information on theses methods, also consult the Book Store online documentation .","title":"Diagram bookstore"},{"location":"diagram-bookstore/#legacy-application-details","text":"Below diagram highlights classes and methods of the legacy Book Store application , relevant to your RESTification task. For more information on theses methods, also consult the Book Store online documentation .","title":"Legacy Application Details"},{"location":"diagram-xox/","text":"Legacy Application Details Below diagram highlights classes and methods of the legacy Tic Tac Toe application , relevant to your RESTification task. For more information on theses methods, also consult the Tic Tac Toe online documentation .","title":"Diagram xox"},{"location":"diagram-xox/#legacy-application-details","text":"Below diagram highlights classes and methods of the legacy Tic Tac Toe application , relevant to your RESTification task. For more information on theses methods, also consult the Tic Tac Toe online documentation .","title":"Legacy Application Details"},{"location":"index-template/","text":"Welcome! Welcome to the the RESTify Experiment . By participating in this study you actively support research, just for that I already would like to thank you! You will be completely anonymous to anyone outside the study. For any ethical concerns or questions, please contact University's Research Ethics Board . The study reference is: XXX-XX-XX-XXX Two exciting and straightforward engineering tasks await you. However, be aware that... ... you must exactly follow the individual task instructions. ... you must document your activity. For any technical concern, please contact the principal investigator . These instructions are linear. Follow the instructions as you read them. Do not alternate the order or skip sections. Also, do not return to your first task, once you have started your second task. The experiment is finished, once you have reached the end of this documentation. tl;dr: read everything, read it carefully! We will verify your upload before compensation. Before you begin Time itself is a primary metric in this study. Before you start with the two main tasks, please first run through all preliminary tasks . This will ensure that: All required software is ready to use on your system. You obtained the skills required for task completion. Belated installation of required software renders your data worthless to the experiment! Do not continue before you finished the preliminaries . Your main tasks Upon completion of the preliminary tasks , please proceed to the two main tasks. It is absolutely crucial that you respect task order and details. Process the tasks in the requested order. Double check the codebase: Your second task will require you to work on a different application than the first. Make sure to use the right approach: Your second task will require you to apply a different methodology than the first. Record your on screen activity: Run a screen recording from the moment you first open the task description until completion. It is allowed to take breaks and submit multiple screen recordings per task. However, in that case your recordings must in their entirety still cover all your task activity. Furthermore, the submitted file must be named in a way that clearly indicates their chronological order. If you change task order, context or approach, or do not document your activity, your data will be worthless to the experiment! After completion Once completed you must provide all collected data to the PI. Follow the upload instructions , the PI then emails you an Amazon gift card.","title":"Welcome!"},{"location":"index-template/#welcome","text":"Welcome to the the RESTify Experiment . By participating in this study you actively support research, just for that I already would like to thank you! You will be completely anonymous to anyone outside the study. For any ethical concerns or questions, please contact University's Research Ethics Board . The study reference is: XXX-XX-XX-XXX Two exciting and straightforward engineering tasks await you. However, be aware that... ... you must exactly follow the individual task instructions. ... you must document your activity. For any technical concern, please contact the principal investigator . These instructions are linear. Follow the instructions as you read them. Do not alternate the order or skip sections. Also, do not return to your first task, once you have started your second task. The experiment is finished, once you have reached the end of this documentation. tl;dr: read everything, read it carefully! We will verify your upload before compensation.","title":"Welcome!"},{"location":"index-template/#before-you-begin","text":"Time itself is a primary metric in this study. Before you start with the two main tasks, please first run through all preliminary tasks . This will ensure that: All required software is ready to use on your system. You obtained the skills required for task completion. Belated installation of required software renders your data worthless to the experiment! Do not continue before you finished the preliminaries .","title":"Before you begin"},{"location":"index-template/#your-main-tasks","text":"Upon completion of the preliminary tasks , please proceed to the two main tasks. It is absolutely crucial that you respect task order and details. Process the tasks in the requested order. Double check the codebase: Your second task will require you to work on a different application than the first. Make sure to use the right approach: Your second task will require you to apply a different methodology than the first. Record your on screen activity: Run a screen recording from the moment you first open the task description until completion. It is allowed to take breaks and submit multiple screen recordings per task. However, in that case your recordings must in their entirety still cover all your task activity. Furthermore, the submitted file must be named in a way that clearly indicates their chronological order. If you change task order, context or approach, or do not document your activity, your data will be worthless to the experiment!","title":"Your main tasks"},{"location":"index-template/#after-completion","text":"Once completed you must provide all collected data to the PI. Follow the upload instructions , the PI then emails you an Amazon gift card.","title":"After completion"},{"location":"preliminaries-end/","text":"Your task will be to formalize the provided interface description, and establish a semantic mapping on existing functionality and parameters. It's a good practice to have the textual description open throughout your task. For your convenience the Zoo description also is available as separate file (as will be the case for the descriptions you'll work with throughout your tasks). There are two ways to achieve this. In each task... ... I'll first walk you through the required steps (using the Zoo). ... then I'll ask you to convert a different application the same way. Heads up! If anything in this preliminary section did not work as expected, do not continue ! Do not proceed to the tasks! Instead send an email to the principal investigator . We will arrange a direct zoom call to debug your setup. If everything fails we will provide you with a prepared machine. If everything worked as expected you may now proceed to your first task.","title":"Preliminaries end"},{"location":"preliminaries-end/#heads-up","text":"If anything in this preliminary section did not work as expected, do not continue ! Do not proceed to the tasks! Instead send an email to the principal investigator . We will arrange a direct zoom call to debug your setup. If everything fails we will provide you with a prepared machine. If everything worked as expected you may now proceed to your first task.","title":"Heads up!"},{"location":"preliminaries-start/","text":"Preliminaries Software Let's first check that you have all required software installed on your machine. If you are not able to install the required software, you can still participate in the study. Please contact the P.I. to schedule access to a lab computer. Java You will need Java, version 11.0.5 . Unfortunately it has to be exactly this version for compatibility with TouchCORE. Verify your java version with java -version If the output is not exactly 11.0.5 , install it: Mac OS Linux Windows Download the JDK 11.0.5 MacOS package . Double click the downloaded .pkg file. Follow the install instructions. Download the JDK 11.0.5 Linux package . Extract the file: tar xvf *.tar.gz Add the contained commands to your path : Set the JAVA_HOME and update your PATH in your ~/.bashrc file: Extend path: PATH=$PATH:/wherever/you/extracted/it/jdk-.../bin/ Set java home: JAVA_HOME=/wherever/you/extracted/it/jdk-... Open a new terminal or type: source ~/.bashrc Download the JDK 11.0.5 MSI or ZIP installer. Double click the downloaded file. Follow the install instructions. After installation , verify that 11.0.5 is now the default installed version . Type again: java -version , check the output. Maven You will need the java build tool Maven . Test if your system has the mvn command. If missing, install it: Mac OS Linux Windows Unless already installed, get the brew package manager . Install maven: brew install maven Use the apt package manager to install maven: sudo apt install maven Download the graphical install wizard . Double click it and follow the instructions. TouchCORE You need a special TouchCORE release, built for this study. Older TouchCORE versions are not compatible. Download the study release here: TouchCORE (RESTify Study / JAR) Extract the downloaded zip file. You can not use an older version of TouchCORE. The required features are only contained in the above version. Verify you can start it: Mac/Linux + Intel/AMD CPU Mac + M1 CPU Windows java -jar TouchCORE.jar softwareupdate --install-rosetta (only first time) java -jar TouchCORE.jar java -jar TouchCORE.jar If the TouchCORE window shows black bars, or if mouse clicks are displaced from the cursor location, please set Windows virtual pixel scaling to 100% . Then log out of Windows and log in again: TouchCORE with black bars: Windows settings to fix black bars and mouse displacement: You should now see this: Should the TouchCORE window does not fit your screen, or should you wish to adjust the window dimensions, edit the file Settings.txt (in the TouchCORE directory) and adjust the lines: DisplayWidth=... and DisplayHeight=... . Fullscreen mode on M1-Macs is not reliable, do not use it if you have an M1-Mac. IntelliJ Any IDE can be used, but we strongly recommend IntelliJ. Also further instructions and guides on this page are exclusively for IntelliJ. Download and install IntelliJ . The community version is sufficient. If desired you can also use the ultimate version (registration with university email required). Zoom You'll need zoom, to record your task activity. (*) Full screen recordings should not reveal personal content. Whenever asked to record, please first close all irrelevant browser tabs and clean your desktop from personal files. Important : We strongly recommend not to use a multi screen setup . It is too easy to forget about only one screen being captured! All you activity must be reflected in the recordings, this includes you working with the provided material, e.g. these instructions. If you have multiple screens we strongly recommend to either deactivate one screen , or enable the \"mirror\" option in your operation system (so they show the identical content). (*) You can use whatever software you want, as long as it captures your entire screen for the full duration of your task activity. We only recommend zoom for REB compliance reasons. E.g. on Mac there is the preinstalled software \"Quicktime\". No worries you can stay offline, Zoom is only required to record your screen to disk. Unless already installed, install zoom now. Then try to record a short screencast, to test your setup: Start a new meeting. Click the record button. Start to share your Desktop. Wait a few seconds End the zoom meeting Verify that your Desktop recording to file worked. Watch your test recording now! Applications This section describes how to obtain source code and prepared TouchCORE models for the study objects. Source Code For the upcoming two tasks you will need prepared source code to work on. Prepare a dedicated folder for your tasks, e.g. on your Desktop. Clone these three repositories, but do not yet inspect their content: The Zoo : git clone https://github.com/anonymous4doubleblinded/Zoo.git The Book Store : git clone https://github.com/anonymous4doubleblinded/BookStoreInternals.git Tic Tac Toe : git clone https://github.com/anonymous4doubleblinded/XoxInternals.git You should now have three new directories in your study folder: Finally, for each folder, verify you can build the code as is: Open a terminal / command line in the project folder. Run: mvn clean install Verify there are no error messages printed to screen. All code you are working with in this study is open source, and you are welcome to share and redistribute it, beyond the context of this study. However, whatever published should always reference and give credit to the original source and authors. IntelliJ Import Test Let's verify that you can open and run the test source code with IntelliJ: Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Verify you can start the \"Zoo\". Open the DesktopLauncher class and click the green triangle, left of the code: Verify there is sample zoo text output, no error messages. Close IntelliJ again. Prepared Models Throughout your tasks you will be working with the below TouchCORE model bundle. Download the model bundle . Extract them all on your disk, e.g. your Desktop. TouchCORE Import Test Let's verify that you can open the test model: Launch TouchCORE Try to open the prepared Zoo model (and only the Zoo model!). Select the load icon. Navigate to where you extracted the zoo.zip file. Use the Arrow Up triangular icon to orient, if needed. Select the zoo.core file. Click the green \" Load \" button. You should see this: Close TouchCORE again. Task Illustration In both of your tasks you will convert an existing java application to a RESTful service. This activity is also called RESTify or RESTification . A REST application is a service that exposes functionality over a a network protocol: The service creates the illusion of offering all functionality through CRUD operations on resources. This is a bit like file system access where you can C reate, R ead, U pdate or D elete files. However, access is not through a file system, but though the HTTP protocol. A resource is identified by its URL (*Unique Resource Location). It looks e.g. like this: http://127.0.0.1:8080/zoo/animals http specifies the protocol to reach this resource 127.0.0.1:8080 sets physical location of the target machine and the port running the REST service. zoo/animals is the location of a resource, offered by the running REST service. A REST interface is always an abstraction of the actual implementation, and should not be confused with RMI ( Remote Method Invocation ) where existing methods are called as-they-are over network. At the start of each task I will provide you with the tools for this process and illustrate the requests activity on a sample application, the Zoo . The Zoo Application The Zoo is a minimal java desktop application that offers some demo functionality, namely: Looking up the Zoo's opening hours. Looking up all names of Zoo animals. Looking up details for a specific animal, identified by name. Adding a new animal to the Zoo. The above functionality is all provided by a singleton class: Zoo . For convenience, here is a class diagram of the Zoo class: You can also inspect the DesktopLauncher , to see how to invoke above methods. Finally you can also run the provided Zoo implementation as is, to see a demo of above functionality: Open a terminal in your cloned Zoo project Type: mvn clean package exec:java The Zoo REST interface description The RESTification of an application (e.g. the Zoo) requires an interface description. An interface description tells you: The expected arrangement of REST resources, and also their individual locations. Which methods ( Get , Put , Post , Delete ) are supported per resource. What happens when a REST resource method was called, and how required parameters are provided. For example for the Zoo the interface description could look like this:","title":"Preliminaries"},{"location":"preliminaries-start/#preliminaries","text":"","title":"Preliminaries"},{"location":"preliminaries-start/#software","text":"Let's first check that you have all required software installed on your machine. If you are not able to install the required software, you can still participate in the study. Please contact the P.I. to schedule access to a lab computer.","title":"Software"},{"location":"preliminaries-start/#java","text":"You will need Java, version 11.0.5 . Unfortunately it has to be exactly this version for compatibility with TouchCORE. Verify your java version with java -version If the output is not exactly 11.0.5 , install it: Mac OS Linux Windows Download the JDK 11.0.5 MacOS package . Double click the downloaded .pkg file. Follow the install instructions. Download the JDK 11.0.5 Linux package . Extract the file: tar xvf *.tar.gz Add the contained commands to your path : Set the JAVA_HOME and update your PATH in your ~/.bashrc file: Extend path: PATH=$PATH:/wherever/you/extracted/it/jdk-.../bin/ Set java home: JAVA_HOME=/wherever/you/extracted/it/jdk-... Open a new terminal or type: source ~/.bashrc Download the JDK 11.0.5 MSI or ZIP installer. Double click the downloaded file. Follow the install instructions. After installation , verify that 11.0.5 is now the default installed version . Type again: java -version , check the output.","title":"Java"},{"location":"preliminaries-start/#maven","text":"You will need the java build tool Maven . Test if your system has the mvn command. If missing, install it: Mac OS Linux Windows Unless already installed, get the brew package manager . Install maven: brew install maven Use the apt package manager to install maven: sudo apt install maven Download the graphical install wizard . Double click it and follow the instructions.","title":"Maven"},{"location":"preliminaries-start/#touchcore","text":"You need a special TouchCORE release, built for this study. Older TouchCORE versions are not compatible. Download the study release here: TouchCORE (RESTify Study / JAR) Extract the downloaded zip file. You can not use an older version of TouchCORE. The required features are only contained in the above version. Verify you can start it: Mac/Linux + Intel/AMD CPU Mac + M1 CPU Windows java -jar TouchCORE.jar softwareupdate --install-rosetta (only first time) java -jar TouchCORE.jar java -jar TouchCORE.jar If the TouchCORE window shows black bars, or if mouse clicks are displaced from the cursor location, please set Windows virtual pixel scaling to 100% . Then log out of Windows and log in again: TouchCORE with black bars: Windows settings to fix black bars and mouse displacement: You should now see this: Should the TouchCORE window does not fit your screen, or should you wish to adjust the window dimensions, edit the file Settings.txt (in the TouchCORE directory) and adjust the lines: DisplayWidth=... and DisplayHeight=... . Fullscreen mode on M1-Macs is not reliable, do not use it if you have an M1-Mac.","title":"TouchCORE"},{"location":"preliminaries-start/#intellij","text":"Any IDE can be used, but we strongly recommend IntelliJ. Also further instructions and guides on this page are exclusively for IntelliJ. Download and install IntelliJ . The community version is sufficient. If desired you can also use the ultimate version (registration with university email required).","title":"IntelliJ"},{"location":"preliminaries-start/#zoom","text":"You'll need zoom, to record your task activity. (*) Full screen recordings should not reveal personal content. Whenever asked to record, please first close all irrelevant browser tabs and clean your desktop from personal files. Important : We strongly recommend not to use a multi screen setup . It is too easy to forget about only one screen being captured! All you activity must be reflected in the recordings, this includes you working with the provided material, e.g. these instructions. If you have multiple screens we strongly recommend to either deactivate one screen , or enable the \"mirror\" option in your operation system (so they show the identical content). (*) You can use whatever software you want, as long as it captures your entire screen for the full duration of your task activity. We only recommend zoom for REB compliance reasons. E.g. on Mac there is the preinstalled software \"Quicktime\". No worries you can stay offline, Zoom is only required to record your screen to disk. Unless already installed, install zoom now. Then try to record a short screencast, to test your setup: Start a new meeting. Click the record button. Start to share your Desktop. Wait a few seconds End the zoom meeting Verify that your Desktop recording to file worked. Watch your test recording now!","title":"Zoom"},{"location":"preliminaries-start/#applications","text":"This section describes how to obtain source code and prepared TouchCORE models for the study objects.","title":"Applications"},{"location":"preliminaries-start/#source-code","text":"For the upcoming two tasks you will need prepared source code to work on. Prepare a dedicated folder for your tasks, e.g. on your Desktop. Clone these three repositories, but do not yet inspect their content: The Zoo : git clone https://github.com/anonymous4doubleblinded/Zoo.git The Book Store : git clone https://github.com/anonymous4doubleblinded/BookStoreInternals.git Tic Tac Toe : git clone https://github.com/anonymous4doubleblinded/XoxInternals.git You should now have three new directories in your study folder: Finally, for each folder, verify you can build the code as is: Open a terminal / command line in the project folder. Run: mvn clean install Verify there are no error messages printed to screen. All code you are working with in this study is open source, and you are welcome to share and redistribute it, beyond the context of this study. However, whatever published should always reference and give credit to the original source and authors.","title":"Source Code"},{"location":"preliminaries-start/#intellij-import-test","text":"Let's verify that you can open and run the test source code with IntelliJ: Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Verify you can start the \"Zoo\". Open the DesktopLauncher class and click the green triangle, left of the code: Verify there is sample zoo text output, no error messages. Close IntelliJ again.","title":"IntelliJ Import Test"},{"location":"preliminaries-start/#prepared-models","text":"Throughout your tasks you will be working with the below TouchCORE model bundle. Download the model bundle . Extract them all on your disk, e.g. your Desktop.","title":"Prepared Models"},{"location":"preliminaries-start/#touchcore-import-test","text":"Let's verify that you can open the test model: Launch TouchCORE Try to open the prepared Zoo model (and only the Zoo model!). Select the load icon. Navigate to where you extracted the zoo.zip file. Use the Arrow Up triangular icon to orient, if needed. Select the zoo.core file. Click the green \" Load \" button. You should see this: Close TouchCORE again.","title":"TouchCORE Import Test"},{"location":"preliminaries-start/#task-illustration","text":"In both of your tasks you will convert an existing java application to a RESTful service. This activity is also called RESTify or RESTification . A REST application is a service that exposes functionality over a a network protocol: The service creates the illusion of offering all functionality through CRUD operations on resources. This is a bit like file system access where you can C reate, R ead, U pdate or D elete files. However, access is not through a file system, but though the HTTP protocol. A resource is identified by its URL (*Unique Resource Location). It looks e.g. like this: http://127.0.0.1:8080/zoo/animals http specifies the protocol to reach this resource 127.0.0.1:8080 sets physical location of the target machine and the port running the REST service. zoo/animals is the location of a resource, offered by the running REST service. A REST interface is always an abstraction of the actual implementation, and should not be confused with RMI ( Remote Method Invocation ) where existing methods are called as-they-are over network. At the start of each task I will provide you with the tools for this process and illustrate the requests activity on a sample application, the Zoo .","title":"Task Illustration"},{"location":"preliminaries-start/#the-zoo-application","text":"The Zoo is a minimal java desktop application that offers some demo functionality, namely: Looking up the Zoo's opening hours. Looking up all names of Zoo animals. Looking up details for a specific animal, identified by name. Adding a new animal to the Zoo. The above functionality is all provided by a singleton class: Zoo . For convenience, here is a class diagram of the Zoo class: You can also inspect the DesktopLauncher , to see how to invoke above methods. Finally you can also run the provided Zoo implementation as is, to see a demo of above functionality: Open a terminal in your cloned Zoo project Type: mvn clean package exec:java","title":"The Zoo Application"},{"location":"preliminaries-start/#the-zoo-rest-interface-description","text":"The RESTification of an application (e.g. the Zoo) requires an interface description. An interface description tells you: The expected arrangement of REST resources, and also their individual locations. Which methods ( Get , Put , Post , Delete ) are supported per resource. What happens when a REST resource method was called, and how required parameters are provided. For example for the Zoo the interface description could look like this:","title":"The Zoo REST interface description"},{"location":"preliminaries/","text":"Preliminaries Software Let's first check that you have all required software installed on your machine. If you are not able to install the required software, you can still participate in the study. Please contact the P.I. to schedule access to a lab computer. Java You will need Java, version 11.0.5 . Unfortunately it has to be exactly this version for compatibility with TouchCORE. Verify your java version with java -version If the output is not exactly 11.0.5 , install it: Mac OS Linux Windows Download the JDK 11.0.5 MacOS package . Double click the downloaded .pkg file. Follow the install instructions. Download the JDK 11.0.5 Linux package . Extract the file: tar xvf *.tar.gz Add the contained commands to your path : Set the JAVA_HOME and update your PATH in your ~/.bashrc file: Extend path: PATH=$PATH:/wherever/you/extracted/it/jdk-.../bin/ Set java home: JAVA_HOME=/wherever/you/extracted/it/jdk-... Open a new terminal or type: source ~/.bashrc Download the JDK 11.0.5 MSI or ZIP installer. Double click the downloaded file. Follow the install instructions. After installation , verify that 11.0.5 is now the default installed version . Type again: java -version , check the output. Maven You will need the java build tool Maven . Test if your system has the mvn command. If missing, install it: Mac OS Linux Windows Unless already installed, get the brew package manager . Install maven: brew install maven Use the apt package manager to install maven: sudo apt install maven Download the graphical install wizard . Double click it and follow the instructions. TouchCORE You need a special TouchCORE release, built for this study. Older TouchCORE versions are not compatible. Download the study release here: TouchCORE (RESTify Study / JAR) Extract the downloaded zip file. You can not use an older version of TouchCORE. The required features are only contained in the above version. Verify you can start it: Mac/Linux + Intel/AMD CPU Mac + M1 CPU Windows java -jar TouchCORE.jar softwareupdate --install-rosetta (only first time) java -jar TouchCORE.jar java -jar TouchCORE.jar If the TouchCORE window shows black bars, or if mouse clicks are displaced from the cursor location, please set Windows virtual pixel scaling to 100% . Then log out of Windows and log in again: TouchCORE with black bars: Windows settings to fix black bars and mouse displacement: You should now see this: Should the TouchCORE window does not fit your screen, or should you wish to adjust the window dimensions, edit the file Settings.txt (in the TouchCORE directory) and adjust the lines: DisplayWidth=... and DisplayHeight=... . Fullscreen mode on M1-Macs is not reliable, do not use it if you have an M1-Mac. IntelliJ Any IDE can be used, but we strongly recommend IntelliJ. Also further instructions and guides on this page are exclusively for IntelliJ. Download and install IntelliJ . The community version is sufficient. If desired you can also use the ultimate version (registration with university email required). Zoom You'll need zoom, to record your task activity. (*) Full screen recordings should not reveal personal content. Whenever asked to record, please first close all irrelevant browser tabs and clean your desktop from personal files. Important : We strongly recommend not to use a multi screen setup . It is too easy to forget about only one screen being captured! All you activity must be reflected in the recordings, this includes you working with the provided material, e.g. these instructions. If you have multiple screens we strongly recommend to either deactivate one screen , or enable the \"mirror\" option in your operation system (so they show the identical content). (*) You can use whatever software you want, as long as it captures your entire screen for the full duration of your task activity. We only recommend zoom for REB compliance reasons. E.g. on Mac there is the preinstalled software \"Quicktime\". No worries you can stay offline, Zoom is only required to record your screen to disk. Unless already installed, install zoom now. Then try to record a short screencast, to test your setup: Start a new meeting. Click the record button. Start to share your Desktop. Wait a few seconds End the zoom meeting Verify that your Desktop recording to file worked. Watch your test recording now! Applications This section describes how to obtain source code and prepared TouchCORE models for the study objects. Source Code For the upcoming two tasks you will need prepared source code to work on. Prepare a dedicated folder for your tasks, e.g. on your Desktop. Clone these three repositories, but do not yet inspect their content: The Zoo : git clone https://github.com/anonymous4doubleblinded/Zoo.git The Book Store : git clone https://github.com/anonymous4doubleblinded/BookStoreInternals.git Tic Tac Toe : git clone https://github.com/anonymous4doubleblinded/XoxInternals.git You should now have three new directories in your study folder: Finally, for each folder, verify you can build the code as is: Open a terminal / command line in the project folder. Run: mvn clean install Verify there are no error messages printed to screen. All code you are working with in this study is open source, and you are welcome to share and redistribute it, beyond the context of this study. However, whatever published should always reference and give credit to the original source and authors. IntelliJ Import Test Let's verify that you can open and run the test source code with IntelliJ: Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Verify you can start the \"Zoo\". Open the DesktopLauncher class and click the green triangle, left of the code: Verify there is sample zoo text output, no error messages. Close IntelliJ again. Prepared Models Throughout your tasks you will be working with the below TouchCORE model bundle. Download the model bundle . Extract them all on your disk, e.g. your Desktop. TouchCORE Import Test Let's verify that you can open the test model: Launch TouchCORE Try to open the prepared Zoo model (and only the Zoo model!). Select the load icon. Navigate to where you extracted the zoo.zip file. Use the Arrow Up triangular icon to orient, if needed. Select the zoo.core file. Click the green \" Load \" button. You should see this: Close TouchCORE again. Task Illustration In both of your tasks you will convert an existing java application to a RESTful service. This activity is also called RESTify or RESTification . A REST application is a service that exposes functionality over a a network protocol: The service creates the illusion of offering all functionality through CRUD operations on resources. This is a bit like file system access where you can C reate, R ead, U pdate or D elete files. However, access is not through a file system, but though the HTTP protocol. A resource is identified by its URL (*Unique Resource Location). It looks e.g. like this: http://127.0.0.1:8080/zoo/animals http specifies the protocol to reach this resource 127.0.0.1:8080 sets physical location of the target machine and the port running the REST service. zoo/animals is the location of a resource, offered by the running REST service. A REST interface is always an abstraction of the actual implementation, and should not be confused with RMI ( Remote Method Invocation ) where existing methods are called as-they-are over network. At the start of each task I will provide you with the tools for this process and illustrate the requests activity on a sample application, the Zoo . The Zoo Application The Zoo is a minimal java desktop application that offers some demo functionality, namely: Looking up the Zoo's opening hours. Looking up all names of Zoo animals. Looking up details for a specific animal, identified by name. Adding a new animal to the Zoo. The above functionality is all provided by a singleton class: Zoo . For convenience, here is a class diagram of the Zoo class: You can also inspect the DesktopLauncher , to see how to invoke above methods. Finally you can also run the provided Zoo implementation as is, to see a demo of above functionality: Open a terminal in your cloned Zoo project Type: mvn clean package exec:java The Zoo REST interface description The RESTification of an application (e.g. the Zoo) requires an interface description. An interface description tells you: The expected arrangement of REST resources, and also their individual locations. Which methods ( Get , Put , Post , Delete ) are supported per resource. What happens when a REST resource method was called, and how required parameters are provided. For example for the Zoo the interface description could look like this: Your interface should begin with a top-level resource \" zoo \", not offering any methods. \" zoo \" should have two subresources, \" animals \" and \" openinghours \", both offering a [GET] method. A [GET] request to \"animals\" should return the list of all animal names in the zoo. A [GET] request to \" openinghours \" should return a description of the zoo's opening hours during the week and on weekends. The \" animals \" resource should have a single dynamic placeholder subresource representing a specific animal, identified by name. Name it e.g. \" animalname \". This dynamic subresource should offer a [Get] and a [Put] method. A [GET] request to the dynamic placeholder subresource should provide details on the given animal, identified by the value of the dynamic resource, i.e., the name of the animal (which serves as input parameter). A [PUT] request to the dynamic placeholder subresource should allow adding a new animal to the zoo. The name of the new animal is again specified by the value of the dynamic resource, while further details on the animal are passed as request body payload. Your task will be to formalize the provided interface description, and establish a semantic mapping on existing functionality and parameters. It's a good practice to have the textual description open throughout your task. For your convenience the Zoo description also is available as separate file (as will be the case for the descriptions you'll work with throughout your tasks). There are two ways to achieve this. In each task... ... I'll first walk you through the required steps (using the Zoo). ... then I'll ask you to convert a different application the same way. Heads up! If anything in this preliminary section did not work as expected, do not continue ! Do not proceed to the tasks! Instead send an email to the principal investigator . We will arrange a direct zoom call to debug your setup. If everything fails we will provide you with a prepared machine. If everything worked as expected you may now proceed to your first task.","title":"Preliminaries"},{"location":"preliminaries/#preliminaries","text":"","title":"Preliminaries"},{"location":"preliminaries/#software","text":"Let's first check that you have all required software installed on your machine. If you are not able to install the required software, you can still participate in the study. Please contact the P.I. to schedule access to a lab computer.","title":"Software"},{"location":"preliminaries/#java","text":"You will need Java, version 11.0.5 . Unfortunately it has to be exactly this version for compatibility with TouchCORE. Verify your java version with java -version If the output is not exactly 11.0.5 , install it: Mac OS Linux Windows Download the JDK 11.0.5 MacOS package . Double click the downloaded .pkg file. Follow the install instructions. Download the JDK 11.0.5 Linux package . Extract the file: tar xvf *.tar.gz Add the contained commands to your path : Set the JAVA_HOME and update your PATH in your ~/.bashrc file: Extend path: PATH=$PATH:/wherever/you/extracted/it/jdk-.../bin/ Set java home: JAVA_HOME=/wherever/you/extracted/it/jdk-... Open a new terminal or type: source ~/.bashrc Download the JDK 11.0.5 MSI or ZIP installer. Double click the downloaded file. Follow the install instructions. After installation , verify that 11.0.5 is now the default installed version . Type again: java -version , check the output.","title":"Java"},{"location":"preliminaries/#maven","text":"You will need the java build tool Maven . Test if your system has the mvn command. If missing, install it: Mac OS Linux Windows Unless already installed, get the brew package manager . Install maven: brew install maven Use the apt package manager to install maven: sudo apt install maven Download the graphical install wizard . Double click it and follow the instructions.","title":"Maven"},{"location":"preliminaries/#touchcore","text":"You need a special TouchCORE release, built for this study. Older TouchCORE versions are not compatible. Download the study release here: TouchCORE (RESTify Study / JAR) Extract the downloaded zip file. You can not use an older version of TouchCORE. The required features are only contained in the above version. Verify you can start it: Mac/Linux + Intel/AMD CPU Mac + M1 CPU Windows java -jar TouchCORE.jar softwareupdate --install-rosetta (only first time) java -jar TouchCORE.jar java -jar TouchCORE.jar If the TouchCORE window shows black bars, or if mouse clicks are displaced from the cursor location, please set Windows virtual pixel scaling to 100% . Then log out of Windows and log in again: TouchCORE with black bars: Windows settings to fix black bars and mouse displacement: You should now see this: Should the TouchCORE window does not fit your screen, or should you wish to adjust the window dimensions, edit the file Settings.txt (in the TouchCORE directory) and adjust the lines: DisplayWidth=... and DisplayHeight=... . Fullscreen mode on M1-Macs is not reliable, do not use it if you have an M1-Mac.","title":"TouchCORE"},{"location":"preliminaries/#intellij","text":"Any IDE can be used, but we strongly recommend IntelliJ. Also further instructions and guides on this page are exclusively for IntelliJ. Download and install IntelliJ . The community version is sufficient. If desired you can also use the ultimate version (registration with university email required).","title":"IntelliJ"},{"location":"preliminaries/#zoom","text":"You'll need zoom, to record your task activity. (*) Full screen recordings should not reveal personal content. Whenever asked to record, please first close all irrelevant browser tabs and clean your desktop from personal files. Important : We strongly recommend not to use a multi screen setup . It is too easy to forget about only one screen being captured! All you activity must be reflected in the recordings, this includes you working with the provided material, e.g. these instructions. If you have multiple screens we strongly recommend to either deactivate one screen , or enable the \"mirror\" option in your operation system (so they show the identical content). (*) You can use whatever software you want, as long as it captures your entire screen for the full duration of your task activity. We only recommend zoom for REB compliance reasons. E.g. on Mac there is the preinstalled software \"Quicktime\". No worries you can stay offline, Zoom is only required to record your screen to disk. Unless already installed, install zoom now. Then try to record a short screencast, to test your setup: Start a new meeting. Click the record button. Start to share your Desktop. Wait a few seconds End the zoom meeting Verify that your Desktop recording to file worked. Watch your test recording now!","title":"Zoom"},{"location":"preliminaries/#applications","text":"This section describes how to obtain source code and prepared TouchCORE models for the study objects.","title":"Applications"},{"location":"preliminaries/#source-code","text":"For the upcoming two tasks you will need prepared source code to work on. Prepare a dedicated folder for your tasks, e.g. on your Desktop. Clone these three repositories, but do not yet inspect their content: The Zoo : git clone https://github.com/anonymous4doubleblinded/Zoo.git The Book Store : git clone https://github.com/anonymous4doubleblinded/BookStoreInternals.git Tic Tac Toe : git clone https://github.com/anonymous4doubleblinded/XoxInternals.git You should now have three new directories in your study folder: Finally, for each folder, verify you can build the code as is: Open a terminal / command line in the project folder. Run: mvn clean install Verify there are no error messages printed to screen. All code you are working with in this study is open source, and you are welcome to share and redistribute it, beyond the context of this study. However, whatever published should always reference and give credit to the original source and authors.","title":"Source Code"},{"location":"preliminaries/#intellij-import-test","text":"Let's verify that you can open and run the test source code with IntelliJ: Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Verify you can start the \"Zoo\". Open the DesktopLauncher class and click the green triangle, left of the code: Verify there is sample zoo text output, no error messages. Close IntelliJ again.","title":"IntelliJ Import Test"},{"location":"preliminaries/#prepared-models","text":"Throughout your tasks you will be working with the below TouchCORE model bundle. Download the model bundle . Extract them all on your disk, e.g. your Desktop.","title":"Prepared Models"},{"location":"preliminaries/#touchcore-import-test","text":"Let's verify that you can open the test model: Launch TouchCORE Try to open the prepared Zoo model (and only the Zoo model!). Select the load icon. Navigate to where you extracted the zoo.zip file. Use the Arrow Up triangular icon to orient, if needed. Select the zoo.core file. Click the green \" Load \" button. You should see this: Close TouchCORE again.","title":"TouchCORE Import Test"},{"location":"preliminaries/#task-illustration","text":"In both of your tasks you will convert an existing java application to a RESTful service. This activity is also called RESTify or RESTification . A REST application is a service that exposes functionality over a a network protocol: The service creates the illusion of offering all functionality through CRUD operations on resources. This is a bit like file system access where you can C reate, R ead, U pdate or D elete files. However, access is not through a file system, but though the HTTP protocol. A resource is identified by its URL (*Unique Resource Location). It looks e.g. like this: http://127.0.0.1:8080/zoo/animals http specifies the protocol to reach this resource 127.0.0.1:8080 sets physical location of the target machine and the port running the REST service. zoo/animals is the location of a resource, offered by the running REST service. A REST interface is always an abstraction of the actual implementation, and should not be confused with RMI ( Remote Method Invocation ) where existing methods are called as-they-are over network. At the start of each task I will provide you with the tools for this process and illustrate the requests activity on a sample application, the Zoo .","title":"Task Illustration"},{"location":"preliminaries/#the-zoo-application","text":"The Zoo is a minimal java desktop application that offers some demo functionality, namely: Looking up the Zoo's opening hours. Looking up all names of Zoo animals. Looking up details for a specific animal, identified by name. Adding a new animal to the Zoo. The above functionality is all provided by a singleton class: Zoo . For convenience, here is a class diagram of the Zoo class: You can also inspect the DesktopLauncher , to see how to invoke above methods. Finally you can also run the provided Zoo implementation as is, to see a demo of above functionality: Open a terminal in your cloned Zoo project Type: mvn clean package exec:java","title":"The Zoo Application"},{"location":"preliminaries/#the-zoo-rest-interface-description","text":"The RESTification of an application (e.g. the Zoo) requires an interface description. An interface description tells you: The expected arrangement of REST resources, and also their individual locations. Which methods ( Get , Put , Post , Delete ) are supported per resource. What happens when a REST resource method was called, and how required parameters are provided. For example for the Zoo the interface description could look like this: Your interface should begin with a top-level resource \" zoo \", not offering any methods. \" zoo \" should have two subresources, \" animals \" and \" openinghours \", both offering a [GET] method. A [GET] request to \"animals\" should return the list of all animal names in the zoo. A [GET] request to \" openinghours \" should return a description of the zoo's opening hours during the week and on weekends. The \" animals \" resource should have a single dynamic placeholder subresource representing a specific animal, identified by name. Name it e.g. \" animalname \". This dynamic subresource should offer a [Get] and a [Put] method. A [GET] request to the dynamic placeholder subresource should provide details on the given animal, identified by the value of the dynamic resource, i.e., the name of the animal (which serves as input parameter). A [PUT] request to the dynamic placeholder subresource should allow adding a new animal to the zoo. The name of the new animal is again specified by the value of the dynamic resource, while further details on the animal are passed as request body payload. Your task will be to formalize the provided interface description, and establish a semantic mapping on existing functionality and parameters. It's a good practice to have the textual description open throughout your task. For your convenience the Zoo description also is available as separate file (as will be the case for the descriptions you'll work with throughout your tasks). There are two ways to achieve this. In each task... ... I'll first walk you through the required steps (using the Zoo). ... then I'll ask you to convert a different application the same way.","title":"The Zoo REST interface description"},{"location":"preliminaries/#heads-up","text":"If anything in this preliminary section did not work as expected, do not continue ! Do not proceed to the tasks! Instead send an email to the principal investigator . We will arrange a direct zoom call to debug your setup. If everything fails we will provide you with a prepared machine. If everything worked as expected you may now proceed to your first task.","title":"Heads up!"},{"location":"task-description/","text":"Compile and Test To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application) Your Task Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured. Instructions All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a","title":"Task description"},{"location":"task-description/#compile-and-test","text":"To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application)","title":"Compile and Test"},{"location":"task-description/#your-task","text":"Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured.","title":"Your Task"},{"location":"task-description/#instructions","text":"All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a","title":"Instructions"},{"location":"task-preamble/","text":"WARNING! Start your screen recording now. Your entire on-screen task activity must be captured. This includes your familiarization with the task description! Task Illustration (Restifying the Zoo)","title":"Task preamble"},{"location":"task-preamble/#task-illustration-restifying-the-zoo","text":"","title":"Task Illustration (Restifying the Zoo)"},{"location":"task1/","text":"Task 1 Your first task is the manual conversion of Tic Tac Toe into a RESTful service. WARNING! Start your screen recording now. Your entire on-screen task activity must be captured. This includes your familiarization with the task description! Task Illustration (Restifying the Zoo) I will now illustrate the steps of a manual conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same manual methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please watch this screencast where I demonstrate and explain the required code changes. Below you find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section . Additionally you can conveniently inspect both versions and the changes made: Switch to Desktop Zoo version: git checkout master or inspect code online . Switch to RESTified Zoo version: git checkout RESTified or inspect code online . Compare versions: git diff master..RESTified or inspect changes online . Project Layout Overview A manual RESTification is a series of five activities: Loading of legacy sources into Integrated Development Environment (IntelliJ IDE) Adjustment of the build configuration file: pom.xml Replacement of the launcher class Removal of singleton pattern or creation of proxy controllers Decoration of REST controllers and target functions with Spring annotations Loading Legacy Sources into IDE Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Build Configuration Changes Want to see all Zoo-RESTify pom.xml changes at a glance? Run git diff master..RESTified pom.xml . Green lines were added for RESTification, red lines were removed. Artifact properties: Adjust artifactId . Change suffix to \"restified\" Adjust name . Change suffix to \"restified\" Update developer information: Remove the email and organizationUrl lines Change name to your personal codename , e.g. \" blue snail \" (see my email) Change organization to \" university.country \" Parent: Declare inheritance from spring boot parent. Place below snippet right after the <license>...</license> block: <!-- this parent block lets this maven project extend a prepared spring specific template.--> <parent> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-parent </artifactId> <version> 2.3.0.RELEASE </version> </parent> Dependencies: Declare dependency towards spring boot artifact: <!-- This block adds spring boot as a dependency, so we can use the parent pom configuration and non-standard annotations.--> <dependency> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-web </artifactId> <version> 2.3.0.RELEASE </version> </dependency> Final Name Add \"Restified\" as suffix to the finalName attribute value Build plugins: Remove plugin for legacy launcher class: <!-- specify main class for exec goal --> <plugin> <groupId> org.codehaus.mojo </groupId> <artifactId> exec-maven-plugin </artifactId> <version> 1.6.0 </version> <executions> <execution> <goals> <goal> java </goal> </goals> </execution> </executions> <configuration> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </configuration> </plugin> Remove plugin for legacy compilation to self contained JAR: <!-- specify main class for JAR manifest--> <plugin> <groupId> org.apache.maven.plugins </groupId> <artifactId> maven-jar-plugin </artifactId> <version> 3.2.0 </version> <configuration> <archive> <manifest> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </manifest> </archive> </configuration> </plugin> Add plugin for spring-boot launcher class: (Don't create the new launcher class yet!) Don't forget to adapt the mainClass tag! <!-- Spring specific build plugin, produces self contained JAR with default launcher class.--> <plugin> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-maven-plugin </artifactId> <configuration> <fork> true </fork> <!-- Replace \"zoo\" by actual package name in next line! --> <mainClass> eu.anonymous4doubleblinded.zoo.RestLauncher </mainClass> </configuration> <executions> <execution> <goals> <goal> repackage </goal> </goals> </execution> </executions> </plugin> Note: Some changes might note take full effect until you manually reload the pom.xml file. To do so, right click the pom.xml file and select: Maven -> Reload Project Java Code Changes Hint : You can use git to see all java changes made to the Zoo for manual RESTification. Run: git diff master..RESTified *java Green lines were added for RESTification, red lines were removed. Remove conflicting files You have to delete two things: The legacy launcher, located in src/main/java/eu/karotffelquadrat/*/DesktopLauncher.java The legacy unit tests. Remove the entire test folder: src/test (This part has been skipped in the Zoo explanatory video, since there were no test classes) Launcher First thing to do is the creation of a new launcher class. It should be placed anywhere within the src/main/java/eu/anonymous4doubleblinded/... directory. Create it by right clicking on the eu.anonymous4doubleblinded... package: Enter RestLauncher as class name, do not type the .java extension. IntelliJ will handle that for you. Code of the RestLauncher.java class. (Replaces the legacy launcher) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package eu.anonymous4doubleblinded.zoo ; <----- Replace \"zoo\" by whatever application you are working on import org.springframework.boot.SpringApplication ; import org.springframework.boot.autoconfigure.SpringBootApplication ; /** * This class powers up Spring and ensures the annotated controllers are detected. */ @SpringBootApplication public class RestLauncher { public static void main ( String [] args ) { SpringApplication . run ( RestLauncher . class , args ); } } Beans and Singletons Spring creates new instances of classes annotated with: @RestController The existing singleton pattern is bypassed, since Spring uses reflection to gain constructor access, even if the declared constructor is private. Having both @RestController and a getInstance method in the same class is dangerous. There are two ways to side-step inconsistency issues: Autowiring (Recommended) Proxy Classes If you chose Autowiring , you do not create new classes. You directly annotate the relevant existing classes with @RestController . This tells Spring to create one instance per annotated class, using a default constructor. Any existing singleton pattern is therefore obsolete: If you annotated a class with @RestController , make sure to remove the singleton pattern (the getInstance method) and make the default constructor public. Whenever an instance of such an annotated class is required, you can obtain the spring maintained instance with @Autowired . Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package eu.anonymous4doubleblinded.zoo ; import org.springframework.beans.factory.annotation.Autowired ; import org.springframework.web.bind.annotation.RestController ; @RestController public class FooController { /* @Autowired ensures the zoo field is set after instantiation of FooController, given Zoo is annotated with @RestController. */ @Autowired Zoo zoo ; public void bar () { // Here you can access the zoo instance using the local, autowired field (instead of calling the obsolete getInstance method) zoo . getOpeningHours (); } } Autowired fields are only accessible after class instantiation. Do not invoke methods that require autowired values from a constructor, or you will get a NullPointerException at runtime. Instead annotate those methods with @PostConstruct . This advises spring to invoke a method after class instantiation. If you chose Proxy Classes , you do annotate the existing classes. You instead replicate every existing relevant class and place all annotations in the replica. The replica acts as proxy that forwards every method call to the original, using getInstance() . Keep the singleton pattern in the original java classes. They remain untouched. Instead place an @RestController annotation in every proxy class created. Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package eu.anonymous4doubleblinded.zoo ; import org.springframework.web.bind.annotation.RestController ; /** This Proxy class is decorated with @RestController, instead of the original singleton class. Any required method of the original class can be proxied with an internal getInstance call. */ @RestController public class ZooController { /** Proxied access to a method of the original / singleton class . // Mapping annotation goes here . public OpeningHours getOpeningHours () { // Access to the original class is achieved with a call to getInstance. return Zoo . getInstance (). getOpeningHours (); } } Resource Mapping with Annotations Note: Below annotation syntax can only be used in classes annotated with @RestController . Resource mappings (these annotations decorate functions) Annotations types: Get Put Post Delete @GetMapping(\"...\") @PutMapping(\"...\") @PostMapping(\"...\") @DeleteMapping(\"...\") Arguments: Static: Full resource path within quotes, e.g.: \"zoo/animals\" Dynamic: Full resource path within quotes. Any dynamic placeholder on path is marked by curly brackets , e.g.: \"zoo/animals/{animalname}\" Parameter mapping (these annotations decorate function parameters) Pathvariable: @PathVariable(\"animalname\") Request body: @RequestBody Build and Run These instructions are to build and run from command line. While developing in IntelliJ you can safly use the \"green triangle button\" next to your new spring launcher class. The first time you start your REST application you might see a warning about incoming connections. Select \" Allow \". At some point you also need to build your application into a self contained artifact: Mac OS / Linux Windows Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target/zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml . Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target\\zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml . Compile and Test To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application) Your Task Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured. Instructions All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a manual conversion of Tic Tac Toe into a RESTful service. Legacy Application Details Below diagram highlights classes and methods of the legacy Tic Tac Toe application , relevant to your RESTification task. For more information on theses methods, also consult the Tic Tac Toe online documentation . Interface Description: Tic Tac Toe Resources and Methods Your interface should begin with a top-level resource \" xox \", offering two methods. A [GET] request to the \" xox \" resource should result in a lookup of all currently running games, as a list of game-identifiers. A [POST] request to the \" xox \" resource should allow adding of a new game instance. The identifier is generated on server side and does not need to be provided, however the request body should provide all parameters required as game settings. The \" xox \" resource should possess a dynamic placeholder subresource, representing individual game instances by identifier. A [GET] request on the identifier placeholder resource should retrieve scoring information for the targeted game. A [DELETE] request on the identifier placeholder resource should remove the game from the list of all games. The dynamic resource representing games by their identifier should have two subresources: \" players \" and \" board \". A [GET] request on the \" players \" resource should return a list of player names involved into the specified game. The game instance is in this case provided by value of the parent placeholder resource. A [GET] request on the \" board \" resource should return a snapshot of the current game board layout, is to say which cells empty or occupied by a given player. The game instance is in this case provided by value of the parent placeholder resource. The \" players \" resource should possess a dynamic placeholder resource, encoding the name of a given player. This resource has no methods, but in its turn a subresource \" actions \". A [GET] request on actions should return an array of possible actions for a given player in a given game. Each action represents the claim of an available field. The required player name is provided by the parent dynamic resource representing a player name and the game instance is provided by the value of the dynamic sub resource of the root resource. The \" actions \" resource should possess a dynamic placeholder resource that serves to identify the a specific selection of the actions available to a given player in a given game. A [POST] request on that dynamic placeholder resource should allow the selection of a given action, to perform it. The precise action is then identified by an int value taken by the dynamic resource, representing the position in the array of all possible actions. The required player name is provided by the parent dynamic resource representing a player name and the game instance is provided by the value of the dynamic sub resource of the root resource. Click here to download interface description as file. Troubleshoot Q : I open the project with IntelliJ, but everything is underlined in red. A : The projet was not correctly opened. There are multiple potential fixes: Option 1) Reload pom.xml : Right click the file, then select Maven -> Reload Project . Option 2) Verify the JDK version: Select File -> Project Structure... . Verify 11.0.5 is selected in the Project and SDKs tab: Option 3) Invalidate IntelliJ caches: Select File -> Invalidate Caches... . Then select the first two checkboxes: Option 4) Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I cannot compile / run the project, the green button is greyed out. A : The project has no launch configuration by default, therefore the arrow in the top bar is not available. Open the RestLauncher class instead and click on one of the green triangles, left of the code. Q : I RESTified the application, but when I start it there is a Nullpointer-Exception. A : Most likely the constructor code in one of the classes annotated with @RestController invokes a call to an @Autowired field. Autowiring is only available after class initialization (after the constructor). Do not call any method with access to autowired fields in a constructor. Instead tell spring to call it after class initialization. Use the @PostConstruct annotation. See @PostConstruct . Q : I've made a mistake on project import, how can I start from scratch? Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I've modified the pom.xml file as shown, but IntelliJ still does not seem to know about Spring. A : Sometimes the changes made to the pom.xml are not automatically detected. (See first question, pom.xml reload```.) Q : IntelliJ asks me whether I want to trust the project sources. Should I? A : Yes. This is just a security mechanism to prevent malicious code being executed on project import. The provided sources are all from us and can be trusted.","title":"Task 1"},{"location":"task1/#task-1","text":"Your first task is the manual conversion of Tic Tac Toe into a RESTful service. WARNING! Start your screen recording now. Your entire on-screen task activity must be captured. This includes your familiarization with the task description!","title":"Task 1"},{"location":"task1/#task-illustration-restifying-the-zoo","text":"I will now illustrate the steps of a manual conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same manual methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please watch this screencast where I demonstrate and explain the required code changes. Below you find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section . Additionally you can conveniently inspect both versions and the changes made: Switch to Desktop Zoo version: git checkout master or inspect code online . Switch to RESTified Zoo version: git checkout RESTified or inspect code online . Compare versions: git diff master..RESTified or inspect changes online .","title":"Task Illustration (Restifying the Zoo)"},{"location":"task1/#project-layout-overview","text":"A manual RESTification is a series of five activities: Loading of legacy sources into Integrated Development Environment (IntelliJ IDE) Adjustment of the build configuration file: pom.xml Replacement of the launcher class Removal of singleton pattern or creation of proxy controllers Decoration of REST controllers and target functions with Spring annotations","title":"Project Layout Overview"},{"location":"task1/#loading-legacy-sources-into-ide","text":"Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button:","title":"Loading Legacy Sources into IDE"},{"location":"task1/#build-configuration-changes","text":"Want to see all Zoo-RESTify pom.xml changes at a glance? Run git diff master..RESTified pom.xml . Green lines were added for RESTification, red lines were removed. Artifact properties: Adjust artifactId . Change suffix to \"restified\" Adjust name . Change suffix to \"restified\" Update developer information: Remove the email and organizationUrl lines Change name to your personal codename , e.g. \" blue snail \" (see my email) Change organization to \" university.country \" Parent: Declare inheritance from spring boot parent. Place below snippet right after the <license>...</license> block: <!-- this parent block lets this maven project extend a prepared spring specific template.--> <parent> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-parent </artifactId> <version> 2.3.0.RELEASE </version> </parent> Dependencies: Declare dependency towards spring boot artifact: <!-- This block adds spring boot as a dependency, so we can use the parent pom configuration and non-standard annotations.--> <dependency> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-web </artifactId> <version> 2.3.0.RELEASE </version> </dependency> Final Name Add \"Restified\" as suffix to the finalName attribute value Build plugins: Remove plugin for legacy launcher class: <!-- specify main class for exec goal --> <plugin> <groupId> org.codehaus.mojo </groupId> <artifactId> exec-maven-plugin </artifactId> <version> 1.6.0 </version> <executions> <execution> <goals> <goal> java </goal> </goals> </execution> </executions> <configuration> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </configuration> </plugin> Remove plugin for legacy compilation to self contained JAR: <!-- specify main class for JAR manifest--> <plugin> <groupId> org.apache.maven.plugins </groupId> <artifactId> maven-jar-plugin </artifactId> <version> 3.2.0 </version> <configuration> <archive> <manifest> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </manifest> </archive> </configuration> </plugin> Add plugin for spring-boot launcher class: (Don't create the new launcher class yet!) Don't forget to adapt the mainClass tag! <!-- Spring specific build plugin, produces self contained JAR with default launcher class.--> <plugin> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-maven-plugin </artifactId> <configuration> <fork> true </fork> <!-- Replace \"zoo\" by actual package name in next line! --> <mainClass> eu.anonymous4doubleblinded.zoo.RestLauncher </mainClass> </configuration> <executions> <execution> <goals> <goal> repackage </goal> </goals> </execution> </executions> </plugin> Note: Some changes might note take full effect until you manually reload the pom.xml file. To do so, right click the pom.xml file and select: Maven -> Reload Project","title":"Build Configuration Changes"},{"location":"task1/#java-code-changes","text":"Hint : You can use git to see all java changes made to the Zoo for manual RESTification. Run: git diff master..RESTified *java Green lines were added for RESTification, red lines were removed.","title":"Java Code Changes"},{"location":"task1/#remove-conflicting-files","text":"You have to delete two things: The legacy launcher, located in src/main/java/eu/karotffelquadrat/*/DesktopLauncher.java The legacy unit tests. Remove the entire test folder: src/test (This part has been skipped in the Zoo explanatory video, since there were no test classes)","title":"Remove conflicting files"},{"location":"task1/#launcher","text":"First thing to do is the creation of a new launcher class. It should be placed anywhere within the src/main/java/eu/anonymous4doubleblinded/... directory. Create it by right clicking on the eu.anonymous4doubleblinded... package: Enter RestLauncher as class name, do not type the .java extension. IntelliJ will handle that for you. Code of the RestLauncher.java class. (Replaces the legacy launcher) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package eu.anonymous4doubleblinded.zoo ; <----- Replace \"zoo\" by whatever application you are working on import org.springframework.boot.SpringApplication ; import org.springframework.boot.autoconfigure.SpringBootApplication ; /** * This class powers up Spring and ensures the annotated controllers are detected. */ @SpringBootApplication public class RestLauncher { public static void main ( String [] args ) { SpringApplication . run ( RestLauncher . class , args ); } }","title":"Launcher"},{"location":"task1/#beans-and-singletons","text":"Spring creates new instances of classes annotated with: @RestController The existing singleton pattern is bypassed, since Spring uses reflection to gain constructor access, even if the declared constructor is private. Having both @RestController and a getInstance method in the same class is dangerous. There are two ways to side-step inconsistency issues: Autowiring (Recommended) Proxy Classes If you chose Autowiring , you do not create new classes. You directly annotate the relevant existing classes with @RestController . This tells Spring to create one instance per annotated class, using a default constructor. Any existing singleton pattern is therefore obsolete: If you annotated a class with @RestController , make sure to remove the singleton pattern (the getInstance method) and make the default constructor public. Whenever an instance of such an annotated class is required, you can obtain the spring maintained instance with @Autowired . Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package eu.anonymous4doubleblinded.zoo ; import org.springframework.beans.factory.annotation.Autowired ; import org.springframework.web.bind.annotation.RestController ; @RestController public class FooController { /* @Autowired ensures the zoo field is set after instantiation of FooController, given Zoo is annotated with @RestController. */ @Autowired Zoo zoo ; public void bar () { // Here you can access the zoo instance using the local, autowired field (instead of calling the obsolete getInstance method) zoo . getOpeningHours (); } } Autowired fields are only accessible after class instantiation. Do not invoke methods that require autowired values from a constructor, or you will get a NullPointerException at runtime. Instead annotate those methods with @PostConstruct . This advises spring to invoke a method after class instantiation. If you chose Proxy Classes , you do annotate the existing classes. You instead replicate every existing relevant class and place all annotations in the replica. The replica acts as proxy that forwards every method call to the original, using getInstance() . Keep the singleton pattern in the original java classes. They remain untouched. Instead place an @RestController annotation in every proxy class created. Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package eu.anonymous4doubleblinded.zoo ; import org.springframework.web.bind.annotation.RestController ; /** This Proxy class is decorated with @RestController, instead of the original singleton class. Any required method of the original class can be proxied with an internal getInstance call. */ @RestController public class ZooController { /** Proxied access to a method of the original / singleton class . // Mapping annotation goes here . public OpeningHours getOpeningHours () { // Access to the original class is achieved with a call to getInstance. return Zoo . getInstance (). getOpeningHours (); } }","title":"Beans and Singletons"},{"location":"task1/#resource-mapping-with-annotations","text":"Note: Below annotation syntax can only be used in classes annotated with @RestController . Resource mappings (these annotations decorate functions) Annotations types: Get Put Post Delete @GetMapping(\"...\") @PutMapping(\"...\") @PostMapping(\"...\") @DeleteMapping(\"...\") Arguments: Static: Full resource path within quotes, e.g.: \"zoo/animals\" Dynamic: Full resource path within quotes. Any dynamic placeholder on path is marked by curly brackets , e.g.: \"zoo/animals/{animalname}\" Parameter mapping (these annotations decorate function parameters) Pathvariable: @PathVariable(\"animalname\") Request body: @RequestBody","title":"Resource Mapping with Annotations"},{"location":"task1/#build-and-run","text":"These instructions are to build and run from command line. While developing in IntelliJ you can safly use the \"green triangle button\" next to your new spring launcher class. The first time you start your REST application you might see a warning about incoming connections. Select \" Allow \". At some point you also need to build your application into a self contained artifact: Mac OS / Linux Windows Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target/zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml . Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target\\zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml .","title":"Build and Run"},{"location":"task1/#compile-and-test","text":"To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application)","title":"Compile and Test"},{"location":"task1/#your-task","text":"Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured.","title":"Your Task"},{"location":"task1/#instructions","text":"All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a manual conversion of Tic Tac Toe into a RESTful service.","title":"Instructions"},{"location":"task1/#legacy-application-details","text":"Below diagram highlights classes and methods of the legacy Tic Tac Toe application , relevant to your RESTification task. For more information on theses methods, also consult the Tic Tac Toe online documentation .","title":"Legacy Application Details"},{"location":"task1/#interface-description-tic-tac-toe-resources-and-methods","text":"Your interface should begin with a top-level resource \" xox \", offering two methods. A [GET] request to the \" xox \" resource should result in a lookup of all currently running games, as a list of game-identifiers. A [POST] request to the \" xox \" resource should allow adding of a new game instance. The identifier is generated on server side and does not need to be provided, however the request body should provide all parameters required as game settings. The \" xox \" resource should possess a dynamic placeholder subresource, representing individual game instances by identifier. A [GET] request on the identifier placeholder resource should retrieve scoring information for the targeted game. A [DELETE] request on the identifier placeholder resource should remove the game from the list of all games. The dynamic resource representing games by their identifier should have two subresources: \" players \" and \" board \". A [GET] request on the \" players \" resource should return a list of player names involved into the specified game. The game instance is in this case provided by value of the parent placeholder resource. A [GET] request on the \" board \" resource should return a snapshot of the current game board layout, is to say which cells empty or occupied by a given player. The game instance is in this case provided by value of the parent placeholder resource. The \" players \" resource should possess a dynamic placeholder resource, encoding the name of a given player. This resource has no methods, but in its turn a subresource \" actions \". A [GET] request on actions should return an array of possible actions for a given player in a given game. Each action represents the claim of an available field. The required player name is provided by the parent dynamic resource representing a player name and the game instance is provided by the value of the dynamic sub resource of the root resource. The \" actions \" resource should possess a dynamic placeholder resource that serves to identify the a specific selection of the actions available to a given player in a given game. A [POST] request on that dynamic placeholder resource should allow the selection of a given action, to perform it. The precise action is then identified by an int value taken by the dynamic resource, representing the position in the array of all possible actions. The required player name is provided by the parent dynamic resource representing a player name and the game instance is provided by the value of the dynamic sub resource of the root resource. Click here to download interface description as file.","title":"Interface Description: Tic Tac Toe Resources and Methods"},{"location":"task1/#troubleshoot","text":"Q : I open the project with IntelliJ, but everything is underlined in red. A : The projet was not correctly opened. There are multiple potential fixes: Option 1) Reload pom.xml : Right click the file, then select Maven -> Reload Project . Option 2) Verify the JDK version: Select File -> Project Structure... . Verify 11.0.5 is selected in the Project and SDKs tab: Option 3) Invalidate IntelliJ caches: Select File -> Invalidate Caches... . Then select the first two checkboxes: Option 4) Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I cannot compile / run the project, the green button is greyed out. A : The project has no launch configuration by default, therefore the arrow in the top bar is not available. Open the RestLauncher class instead and click on one of the green triangles, left of the code. Q : I RESTified the application, but when I start it there is a Nullpointer-Exception. A : Most likely the constructor code in one of the classes annotated with @RestController invokes a call to an @Autowired field. Autowiring is only available after class initialization (after the constructor). Do not call any method with access to autowired fields in a constructor. Instead tell spring to call it after class initialization. Use the @PostConstruct annotation. See @PostConstruct . Q : I've made a mistake on project import, how can I start from scratch? Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I've modified the pom.xml file as shown, but IntelliJ still does not seem to know about Spring. A : Sometimes the changes made to the pom.xml are not automatically detected. (See first question, pom.xml reload```.) Q : IntelliJ asks me whether I want to trust the project sources. Should I? A : Yes. This is just a security mechanism to prevent malicious code being executed on project import. The provided sources are all from us and can be trusted.","title":"Troubleshoot"},{"location":"task2/","text":"Task 2 Your second task is the TouchCORE assisted conversion of the Book Store into a RESTful service. WARNING! Start your screen recording now. Your entire on-screen task activity must be captured. This includes your familiarization with the task description! Task Illustration (Restifying the Zoo) I will now illustrate the steps of a TouchCORE assisted conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same TouchCORE assisted methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please now watch this screencast where I demonstrate and explain TouchCORE usage. Below you then find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section . Load TouchCORE Project Locate the TouchCORE release folder Launch TouchCORE: java -jar TouchCORE.jar Load the prepared Zoo model: Click the folder icon. Navigate to the provided Class Diagram Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Inspect the Class Diagram (Business Logic) Draw ResTL Model Use the Navigation bar to leave the Class Diagram Open the \"ResTL\" perspective: Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Open the \"Exposed Interface\" model Modify the ResTL model according to the provided Interface Description Drag down to add new resources to the tree (start dragging slightly under an existing box) Click the circles to enable Get / Put / Post / Delete methods for a resource. If you made a mistake, either tap and hold on a resource to remove it double click a resource to rename it Resource and Parameter Mapping While in the ResTL perspective, additionally open the Class Diagram perspective in split-view mode. Click the Split-View Button Select the Class Diagram model Drag lines to establish mappings Connect Resource Methods (circles) to Class Operations Connect Dynamic Resources (text in boxes) to Operation Parameters Heads-up : A correctly mapped model showcases lines of both colours, blue and green ! If you only see one colour you may have forgotten parameter mappings. Code Generation Make sure the original application is registered in your system: Clone the sources of the original (unrestified) java application Install it as library, with mvn clean install Generate the RESTified code with the Transformator button Build and Run your REST service Navigate to your TouchCORE model directory Open a terminal in the new generated sources folder Run the RESTful service with: mvn clean package spring-boot:run Test any Get operation with your browser, e.g.: http://127.0.0.1:8080/zoo/animals Compile and Test To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application) Your Task Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured. Instructions All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a TouchCORE assisted conversion of the Book Store into a RESTful service. Legacy Application Details Below diagram highlights classes and methods of the legacy Book Store application , relevant to your RESTification task. For more information on theses methods, also consult the Book Store online documentation . Interface Description: Book Store Resources and Methods Your interface should begin with a top-level resource \" bookstore \", not offering any methods. \" bookstore \" has two subresources, \" isbns \" and \" stocklocations \", both offering a [GET] method. A [GET] request to \"isbns\" should result in a listing of all isbn numbers stored in the system. A [GET] request to \" stocklocations \" should result in a listing of all geographic store locations. The \" isbns \" resource should have a single dynamic placeholder subresource representing an isbn number, A [GET] request to the dynamic placeholder subresource should provide details on a given book, identified by isbn number which serves as input parameter. A [PUT] request to the dynamic placeholder subresource should allow adding a new book to the system. All details on the book are passed as request body payload. (Note: This might look a bit peculiar to not use the value of the dynamic placeholder \"isbn\" for a subsequent mapping. That is ok here, because the required ISBN information is also contained in the body payload object. We do not want you to add any additional validation here, to keep things simple.) The dynamic placeholder resource should have a child resource \" comments \", representing comments for a given book, identified by isbn. The value of the parent placeholder resource determines which book is targeted. A [GET] request to the \" comments \" resource should result in a listing of all comments for the specified book. The value of the parent resource representing an isbn number servers as input parameter. The result should index comments by their id. A [POST] request to the \" comments \" resource should allow the creation of new comments. The id of the new comment is generated on server side and not required, however, again the parent placeholder resource encodes the isbn of the targeted book. The comment itself is to be transmitted as request body payload. A [DELETE] request to the \" comments \" resource should delete all comments for a given book, identified by the isbn number of the parent dynamic placeholder resource. The \" comments resource should have a dynamic subresource representing a specific comment by id. It offers two methods: [POST] and [DELETE] . A [POST] request to specific comment should allow to alter the content of that comment. Target book and target comment are respectively identified by the dynamic resource itself and the corresponding grandparent placeholder resource. Similar to comment creation, the new comment content is tranmitted as request body payload. A [DELETE] request to specific comment should allow removal of an existing comment. Target book and target comment are respectively identified by the dynamic resource itself and the corresponding grandparent placeholder resource. The \"stocklocations\" resource shoud have a dynamic subresource representing a specific geographic location (city name). A [GET] request to a specific location should return the exact amount of book copies in stock for the given location, as a map indexed by isbn number. The path variable itself providing the target location can serve as argument for a corresponding method call. Finally, the dynamic resource representing a specific geographic location should itself have a dynamic subresource representing the stock for a given book at the given location. A [GET] request on this dynamic resource should return the amount of copies in stock for a book specified by isbn (the value of this placeholder resources) and stock location (the value of this resource's parent placeholder resource) A [POST] request on this dynamic resource should update the current amount of copies for a given book. Target location and isbn are likewise encoded by this placeholder resource and its parent placeholder resource. The new amount is provided as request body payload. Click here to download interface description as file. Troubleshoot Q : I can't start TouchCORE. Nothing happens when I double-click the JAR. A : Start by double click is unfortunately not supported. Instead open a terminal in the unzipped TouchCORE folder, then type: java -jar TouchCORE.jar Q : TouchCORE crashes with an exception, right after start. A : Most likely you are not using a compatible Java version . Run java -version and verify the output is 11.0.5 . Q : I can't resize the TouchCORE window. A : The window can not be resized while TouchCORE is running, but if your screen is big enough, you can change the resolution in the file Settings.txt , next to the TouchCORE.jar file. Q : Nothing happens when I click elements in TouchCORE. A : TouchCORE was developed for touch screens, therefore some elements require time gestures, e.g. Tap-and-Hold . Try a long click on the element. Q : I cannot scroll around. A : Click with the right mouse button, while moving the mouse to scroll. Q : I cannot zoom. A : Use the mouse wheel or a two-finger drag up or down on your touchpad to zoom in or out. Q : I can not find how to open the prepared models. A : By default TouchCORE shows only models that are in the same location as where the software was launched. Use the upward arrow in the top left corner of the TouchCORE file-explorer to navigate to a different folder on your file-system. Q : TouchCORE says it generated code, but I do not find the output folder. A : The java code is always generated inside the model project. Locate the folder with the original models, inside you will find a folder named generated-maven-project . Q : The code is generated, but when I compile it with Maven, it complains about the bookstore/xox-internals not found. What went wrong? A : The generated sources use the legacy sources as library. Maven needs to know about the legacy sources , therefore you need to compile the original sources at least once with: mvn clean install .","title":"Task 2"},{"location":"task2/#task-2","text":"Your second task is the TouchCORE assisted conversion of the Book Store into a RESTful service. WARNING! Start your screen recording now. Your entire on-screen task activity must be captured. This includes your familiarization with the task description!","title":"Task 2"},{"location":"task2/#task-illustration-restifying-the-zoo","text":"I will now illustrate the steps of a TouchCORE assisted conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same TouchCORE assisted methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please now watch this screencast where I demonstrate and explain TouchCORE usage. Below you then find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section .","title":"Task Illustration (Restifying the Zoo)"},{"location":"task2/#load-touchcore-project","text":"Locate the TouchCORE release folder Launch TouchCORE: java -jar TouchCORE.jar Load the prepared Zoo model: Click the folder icon. Navigate to the provided Class Diagram Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Inspect the Class Diagram (Business Logic)","title":"Load TouchCORE Project"},{"location":"task2/#draw-restl-model","text":"Use the Navigation bar to leave the Class Diagram Open the \"ResTL\" perspective: Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Open the \"Exposed Interface\" model Modify the ResTL model according to the provided Interface Description Drag down to add new resources to the tree (start dragging slightly under an existing box) Click the circles to enable Get / Put / Post / Delete methods for a resource. If you made a mistake, either tap and hold on a resource to remove it double click a resource to rename it","title":"Draw ResTL Model"},{"location":"task2/#resource-and-parameter-mapping","text":"While in the ResTL perspective, additionally open the Class Diagram perspective in split-view mode. Click the Split-View Button Select the Class Diagram model Drag lines to establish mappings Connect Resource Methods (circles) to Class Operations Connect Dynamic Resources (text in boxes) to Operation Parameters Heads-up : A correctly mapped model showcases lines of both colours, blue and green ! If you only see one colour you may have forgotten parameter mappings.","title":"Resource and Parameter Mapping"},{"location":"task2/#code-generation","text":"Make sure the original application is registered in your system: Clone the sources of the original (unrestified) java application Install it as library, with mvn clean install Generate the RESTified code with the Transformator button","title":"Code Generation"},{"location":"task2/#build-and-run-your-rest-service","text":"Navigate to your TouchCORE model directory Open a terminal in the new generated sources folder Run the RESTful service with: mvn clean package spring-boot:run Test any Get operation with your browser, e.g.: http://127.0.0.1:8080/zoo/animals","title":"Build and Run your REST service"},{"location":"task2/#compile-and-test","text":"To compile and test your produced REST service: Compile your project with: mvn clean package Open the newly generated target folder. Run the generated JAR file with: java -jar YOUR-SERVICE-NAME.jar Test access with your browser. You can directly access any [GET] resource by typing this into the URL bar: http://127.0.0.1:8080/zoo/animals (where zoo/animals is replaced by a valid GET-enabled resource of your application)","title":"Compile and Test"},{"location":"task2/#your-task","text":"Now it is your turn! WARNING! Double check that your screen recording is still running. Your entire on-screen task activity must be captured.","title":"Your Task"},{"location":"task2/#instructions","text":"All you need to do is replicate the above steps for the requested app. Limits: You may stop whenever you deem the task successfully completed. You may also stop after 90 Minutes of refactoring, whatever the state of your refactoring - You are however also allowed to continue as long as you want. The target REST interface description for your task is below. Please now run a TouchCORE assisted conversion of the Book Store into a RESTful service.","title":"Instructions"},{"location":"task2/#legacy-application-details","text":"Below diagram highlights classes and methods of the legacy Book Store application , relevant to your RESTification task. For more information on theses methods, also consult the Book Store online documentation .","title":"Legacy Application Details"},{"location":"task2/#interface-description-book-store-resources-and-methods","text":"Your interface should begin with a top-level resource \" bookstore \", not offering any methods. \" bookstore \" has two subresources, \" isbns \" and \" stocklocations \", both offering a [GET] method. A [GET] request to \"isbns\" should result in a listing of all isbn numbers stored in the system. A [GET] request to \" stocklocations \" should result in a listing of all geographic store locations. The \" isbns \" resource should have a single dynamic placeholder subresource representing an isbn number, A [GET] request to the dynamic placeholder subresource should provide details on a given book, identified by isbn number which serves as input parameter. A [PUT] request to the dynamic placeholder subresource should allow adding a new book to the system. All details on the book are passed as request body payload. (Note: This might look a bit peculiar to not use the value of the dynamic placeholder \"isbn\" for a subsequent mapping. That is ok here, because the required ISBN information is also contained in the body payload object. We do not want you to add any additional validation here, to keep things simple.) The dynamic placeholder resource should have a child resource \" comments \", representing comments for a given book, identified by isbn. The value of the parent placeholder resource determines which book is targeted. A [GET] request to the \" comments \" resource should result in a listing of all comments for the specified book. The value of the parent resource representing an isbn number servers as input parameter. The result should index comments by their id. A [POST] request to the \" comments \" resource should allow the creation of new comments. The id of the new comment is generated on server side and not required, however, again the parent placeholder resource encodes the isbn of the targeted book. The comment itself is to be transmitted as request body payload. A [DELETE] request to the \" comments \" resource should delete all comments for a given book, identified by the isbn number of the parent dynamic placeholder resource. The \" comments resource should have a dynamic subresource representing a specific comment by id. It offers two methods: [POST] and [DELETE] . A [POST] request to specific comment should allow to alter the content of that comment. Target book and target comment are respectively identified by the dynamic resource itself and the corresponding grandparent placeholder resource. Similar to comment creation, the new comment content is tranmitted as request body payload. A [DELETE] request to specific comment should allow removal of an existing comment. Target book and target comment are respectively identified by the dynamic resource itself and the corresponding grandparent placeholder resource. The \"stocklocations\" resource shoud have a dynamic subresource representing a specific geographic location (city name). A [GET] request to a specific location should return the exact amount of book copies in stock for the given location, as a map indexed by isbn number. The path variable itself providing the target location can serve as argument for a corresponding method call. Finally, the dynamic resource representing a specific geographic location should itself have a dynamic subresource representing the stock for a given book at the given location. A [GET] request on this dynamic resource should return the amount of copies in stock for a book specified by isbn (the value of this placeholder resources) and stock location (the value of this resource's parent placeholder resource) A [POST] request on this dynamic resource should update the current amount of copies for a given book. Target location and isbn are likewise encoded by this placeholder resource and its parent placeholder resource. The new amount is provided as request body payload. Click here to download interface description as file.","title":"Interface Description: Book Store Resources and Methods"},{"location":"task2/#troubleshoot","text":"Q : I can't start TouchCORE. Nothing happens when I double-click the JAR. A : Start by double click is unfortunately not supported. Instead open a terminal in the unzipped TouchCORE folder, then type: java -jar TouchCORE.jar Q : TouchCORE crashes with an exception, right after start. A : Most likely you are not using a compatible Java version . Run java -version and verify the output is 11.0.5 . Q : I can't resize the TouchCORE window. A : The window can not be resized while TouchCORE is running, but if your screen is big enough, you can change the resolution in the file Settings.txt , next to the TouchCORE.jar file. Q : Nothing happens when I click elements in TouchCORE. A : TouchCORE was developed for touch screens, therefore some elements require time gestures, e.g. Tap-and-Hold . Try a long click on the element. Q : I cannot scroll around. A : Click with the right mouse button, while moving the mouse to scroll. Q : I cannot zoom. A : Use the mouse wheel or a two-finger drag up or down on your touchpad to zoom in or out. Q : I can not find how to open the prepared models. A : By default TouchCORE shows only models that are in the same location as where the software was launched. Use the upward arrow in the top left corner of the TouchCORE file-explorer to navigate to a different folder on your file-system. Q : TouchCORE says it generated code, but I do not find the output folder. A : The java code is always generated inside the model project. Locate the folder with the original models, inside you will find a folder named generated-maven-project . Q : The code is generated, but when I compile it with Maven, it complains about the bookstore/xox-internals not found. What went wrong? A : The generated sources use the legacy sources as library. Maven needs to know about the legacy sources , therefore you need to compile the original sources at least once with: mvn clean install .","title":"Troubleshoot"},{"location":"troubleshoot-manual/","text":"Troubleshoot Q : I open the project with IntelliJ, but everything is underlined in red. A : The projet was not correctly opened. There are multiple potential fixes: Option 1) Reload pom.xml : Right click the file, then select Maven -> Reload Project . Option 2) Verify the JDK version: Select File -> Project Structure... . Verify 11.0.5 is selected in the Project and SDKs tab: Option 3) Invalidate IntelliJ caches: Select File -> Invalidate Caches... . Then select the first two checkboxes: Option 4) Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I cannot compile / run the project, the green button is greyed out. A : The project has no launch configuration by default, therefore the arrow in the top bar is not available. Open the RestLauncher class instead and click on one of the green triangles, left of the code. Q : I RESTified the application, but when I start it there is a Nullpointer-Exception. A : Most likely the constructor code in one of the classes annotated with @RestController invokes a call to an @Autowired field. Autowiring is only available after class initialization (after the constructor). Do not call any method with access to autowired fields in a constructor. Instead tell spring to call it after class initialization. Use the @PostConstruct annotation. See @PostConstruct . Q : I've made a mistake on project import, how can I start from scratch? Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I've modified the pom.xml file as shown, but IntelliJ still does not seem to know about Spring. A : Sometimes the changes made to the pom.xml are not automatically detected. (See first question, pom.xml reload```.) Q : IntelliJ asks me whether I want to trust the project sources. Should I? A : Yes. This is just a security mechanism to prevent malicious code being executed on project import. The provided sources are all from us and can be trusted.","title":"Troubleshoot manual"},{"location":"troubleshoot-manual/#troubleshoot","text":"Q : I open the project with IntelliJ, but everything is underlined in red. A : The projet was not correctly opened. There are multiple potential fixes: Option 1) Reload pom.xml : Right click the file, then select Maven -> Reload Project . Option 2) Verify the JDK version: Select File -> Project Structure... . Verify 11.0.5 is selected in the Project and SDKs tab: Option 3) Invalidate IntelliJ caches: Select File -> Invalidate Caches... . Then select the first two checkboxes: Option 4) Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I cannot compile / run the project, the green button is greyed out. A : The project has no launch configuration by default, therefore the arrow in the top bar is not available. Open the RestLauncher class instead and click on one of the green triangles, left of the code. Q : I RESTified the application, but when I start it there is a Nullpointer-Exception. A : Most likely the constructor code in one of the classes annotated with @RestController invokes a call to an @Autowired field. Autowiring is only available after class initialization (after the constructor). Do not call any method with access to autowired fields in a constructor. Instead tell spring to call it after class initialization. Use the @PostConstruct annotation. See @PostConstruct . Q : I've made a mistake on project import, how can I start from scratch? Delete the cloned folder, clone the repository again, then make sure to open the project exactly as shown . Q : I've modified the pom.xml file as shown, but IntelliJ still does not seem to know about Spring. A : Sometimes the changes made to the pom.xml are not automatically detected. (See first question, pom.xml reload```.) Q : IntelliJ asks me whether I want to trust the project sources. Should I? A : Yes. This is just a security mechanism to prevent malicious code being executed on project import. The provided sources are all from us and can be trusted.","title":"Troubleshoot"},{"location":"troubleshoot-touchcore/","text":"Troubleshoot Q : I can't start TouchCORE. Nothing happens when I double-click the JAR. A : Start by double click is unfortunately not supported. Instead open a terminal in the unzipped TouchCORE folder, then type: java -jar TouchCORE.jar Q : TouchCORE crashes with an exception, right after start. A : Most likely you are not using a compatible Java version . Run java -version and verify the output is 11.0.5 . Q : I can't resize the TouchCORE window. A : The window can not be resized while TouchCORE is running, but if your screen is big enough, you can change the resolution in the file Settings.txt , next to the TouchCORE.jar file. Q : Nothing happens when I click elements in TouchCORE. A : TouchCORE was developed for touch screens, therefore some elements require time gestures, e.g. Tap-and-Hold . Try a long click on the element. Q : I cannot scroll around. A : Click with the right mouse button, while moving the mouse to scroll. Q : I cannot zoom. A : Use the mouse wheel or a two-finger drag up or down on your touchpad to zoom in or out. Q : I can not find how to open the prepared models. A : By default TouchCORE shows only models that are in the same location as where the software was launched. Use the upward arrow in the top left corner of the TouchCORE file-explorer to navigate to a different folder on your file-system. Q : TouchCORE says it generated code, but I do not find the output folder. A : The java code is always generated inside the model project. Locate the folder with the original models, inside you will find a folder named generated-maven-project . Q : The code is generated, but when I compile it with Maven, it complains about the bookstore/xox-internals not found. What went wrong? A : The generated sources use the legacy sources as library. Maven needs to know about the legacy sources , therefore you need to compile the original sources at least once with: mvn clean install .","title":"Troubleshoot touchcore"},{"location":"troubleshoot-touchcore/#troubleshoot","text":"Q : I can't start TouchCORE. Nothing happens when I double-click the JAR. A : Start by double click is unfortunately not supported. Instead open a terminal in the unzipped TouchCORE folder, then type: java -jar TouchCORE.jar Q : TouchCORE crashes with an exception, right after start. A : Most likely you are not using a compatible Java version . Run java -version and verify the output is 11.0.5 . Q : I can't resize the TouchCORE window. A : The window can not be resized while TouchCORE is running, but if your screen is big enough, you can change the resolution in the file Settings.txt , next to the TouchCORE.jar file. Q : Nothing happens when I click elements in TouchCORE. A : TouchCORE was developed for touch screens, therefore some elements require time gestures, e.g. Tap-and-Hold . Try a long click on the element. Q : I cannot scroll around. A : Click with the right mouse button, while moving the mouse to scroll. Q : I cannot zoom. A : Use the mouse wheel or a two-finger drag up or down on your touchpad to zoom in or out. Q : I can not find how to open the prepared models. A : By default TouchCORE shows only models that are in the same location as where the software was launched. Use the upward arrow in the top left corner of the TouchCORE file-explorer to navigate to a different folder on your file-system. Q : TouchCORE says it generated code, but I do not find the output folder. A : The java code is always generated inside the model project. Locate the folder with the original models, inside you will find a folder named generated-maven-project . Q : The code is generated, but when I compile it with Maven, it complains about the bookstore/xox-internals not found. What went wrong? A : The generated sources use the legacy sources as library. Maven needs to know about the legacy sources , therefore you need to compile the original sources at least once with: mvn clean install .","title":"Troubleshoot"},{"location":"upload/","text":"Upload Congratulations, you're almost done! Last thing to do is to send us your results: We prepared a personal upload location for your results. The link is in our initial email. Please make not to miss anything in your upload. Below is a checklist. Checklist Screen recordings Project folders (both tasks) For you manual task we want the folder with all your sources. For your TouchCORE assisted task we want the model folder. Make sure it also contains the generated maven sources folder. Comments (please use this form), fill it out and upload it. Claim your gift card Once everything is uploaded, send the PI an email . Give us a moment to check your submission, if everything is there you'll receive your gift card shortly! Curious? You're curious about doing more research? Want to do a bachelor / masters thesis with us? Please send us an email , we have tons of cool student projects!","title":"Upload"},{"location":"upload/#upload","text":"Congratulations, you're almost done! Last thing to do is to send us your results: We prepared a personal upload location for your results. The link is in our initial email. Please make not to miss anything in your upload. Below is a checklist.","title":"Upload"},{"location":"upload/#checklist","text":"Screen recordings Project folders (both tasks) For you manual task we want the folder with all your sources. For your TouchCORE assisted task we want the model folder. Make sure it also contains the generated maven sources folder. Comments (please use this form), fill it out and upload it.","title":"Checklist"},{"location":"upload/#claim-your-gift-card","text":"Once everything is uploaded, send the PI an email . Give us a moment to check your submission, if everything is there you'll receive your gift card shortly!","title":"Claim your gift card"},{"location":"upload/#curious","text":"You're curious about doing more research? Want to do a bachelor / masters thesis with us? Please send us an email , we have tons of cool student projects!","title":"Curious?"},{"location":"zoo-manual/","text":"I will now illustrate the steps of a manual conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same manual methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please watch this screencast where I demonstrate and explain the required code changes. Below you find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section . Additionally you can conveniently inspect both versions and the changes made: Switch to Desktop Zoo version: git checkout master or inspect code online . Switch to RESTified Zoo version: git checkout RESTified or inspect code online . Compare versions: git diff master..RESTified or inspect changes online . Project Layout Overview A manual RESTification is a series of five activities: Loading of legacy sources into Integrated Development Environment (IntelliJ IDE) Adjustment of the build configuration file: pom.xml Replacement of the launcher class Removal of singleton pattern or creation of proxy controllers Decoration of REST controllers and target functions with Spring annotations Loading Legacy Sources into IDE Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button: Build Configuration Changes Want to see all Zoo-RESTify pom.xml changes at a glance? Run git diff master..RESTified pom.xml . Green lines were added for RESTification, red lines were removed. Artifact properties: Adjust artifactId . Change suffix to \"restified\" Adjust name . Change suffix to \"restified\" Update developer information: Remove the email and organizationUrl lines Change name to your personal codename , e.g. \" blue snail \" (see my email) Change organization to \" university.country \" Parent: Declare inheritance from spring boot parent. Place below snippet right after the <license>...</license> block: <!-- this parent block lets this maven project extend a prepared spring specific template.--> <parent> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-parent </artifactId> <version> 2.3.0.RELEASE </version> </parent> Dependencies: Declare dependency towards spring boot artifact: <!-- This block adds spring boot as a dependency, so we can use the parent pom configuration and non-standard annotations.--> <dependency> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-web </artifactId> <version> 2.3.0.RELEASE </version> </dependency> Final Name Add \"Restified\" as suffix to the finalName attribute value Build plugins: Remove plugin for legacy launcher class: <!-- specify main class for exec goal --> <plugin> <groupId> org.codehaus.mojo </groupId> <artifactId> exec-maven-plugin </artifactId> <version> 1.6.0 </version> <executions> <execution> <goals> <goal> java </goal> </goals> </execution> </executions> <configuration> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </configuration> </plugin> Remove plugin for legacy compilation to self contained JAR: <!-- specify main class for JAR manifest--> <plugin> <groupId> org.apache.maven.plugins </groupId> <artifactId> maven-jar-plugin </artifactId> <version> 3.2.0 </version> <configuration> <archive> <manifest> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </manifest> </archive> </configuration> </plugin> Add plugin for spring-boot launcher class: (Don't create the new launcher class yet!) Don't forget to adapt the mainClass tag! <!-- Spring specific build plugin, produces self contained JAR with default launcher class.--> <plugin> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-maven-plugin </artifactId> <configuration> <fork> true </fork> <!-- Replace \"zoo\" by actual package name in next line! --> <mainClass> eu.anonymous4doubleblinded.zoo.RestLauncher </mainClass> </configuration> <executions> <execution> <goals> <goal> repackage </goal> </goals> </execution> </executions> </plugin> Note: Some changes might note take full effect until you manually reload the pom.xml file. To do so, right click the pom.xml file and select: Maven -> Reload Project Java Code Changes Hint : You can use git to see all java changes made to the Zoo for manual RESTification. Run: git diff master..RESTified *java Green lines were added for RESTification, red lines were removed. Remove conflicting files You have to delete two things: The legacy launcher, located in src/main/java/eu/karotffelquadrat/*/DesktopLauncher.java The legacy unit tests. Remove the entire test folder: src/test (This part has been skipped in the Zoo explanatory video, since there were no test classes) Launcher First thing to do is the creation of a new launcher class. It should be placed anywhere within the src/main/java/eu/anonymous4doubleblinded/... directory. Create it by right clicking on the eu.anonymous4doubleblinded... package: Enter RestLauncher as class name, do not type the .java extension. IntelliJ will handle that for you. Code of the RestLauncher.java class. (Replaces the legacy launcher) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package eu.anonymous4doubleblinded.zoo ; <----- Replace \"zoo\" by whatever application you are working on import org.springframework.boot.SpringApplication ; import org.springframework.boot.autoconfigure.SpringBootApplication ; /** * This class powers up Spring and ensures the annotated controllers are detected. */ @SpringBootApplication public class RestLauncher { public static void main ( String [] args ) { SpringApplication . run ( RestLauncher . class , args ); } } Beans and Singletons Spring creates new instances of classes annotated with: @RestController The existing singleton pattern is bypassed, since Spring uses reflection to gain constructor access, even if the declared constructor is private. Having both @RestController and a getInstance method in the same class is dangerous. There are two ways to side-step inconsistency issues: Autowiring (Recommended) Proxy Classes If you chose Autowiring , you do not create new classes. You directly annotate the relevant existing classes with @RestController . This tells Spring to create one instance per annotated class, using a default constructor. Any existing singleton pattern is therefore obsolete: If you annotated a class with @RestController , make sure to remove the singleton pattern (the getInstance method) and make the default constructor public. Whenever an instance of such an annotated class is required, you can obtain the spring maintained instance with @Autowired . Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package eu.anonymous4doubleblinded.zoo ; import org.springframework.beans.factory.annotation.Autowired ; import org.springframework.web.bind.annotation.RestController ; @RestController public class FooController { /* @Autowired ensures the zoo field is set after instantiation of FooController, given Zoo is annotated with @RestController. */ @Autowired Zoo zoo ; public void bar () { // Here you can access the zoo instance using the local, autowired field (instead of calling the obsolete getInstance method) zoo . getOpeningHours (); } } Autowired fields are only accessible after class instantiation. Do not invoke methods that require autowired values from a constructor, or you will get a NullPointerException at runtime. Instead annotate those methods with @PostConstruct . This advises spring to invoke a method after class instantiation. If you chose Proxy Classes , you do annotate the existing classes. You instead replicate every existing relevant class and place all annotations in the replica. The replica acts as proxy that forwards every method call to the original, using getInstance() . Keep the singleton pattern in the original java classes. They remain untouched. Instead place an @RestController annotation in every proxy class created. Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package eu.anonymous4doubleblinded.zoo ; import org.springframework.web.bind.annotation.RestController ; /** This Proxy class is decorated with @RestController, instead of the original singleton class. Any required method of the original class can be proxied with an internal getInstance call. */ @RestController public class ZooController { /** Proxied access to a method of the original / singleton class . // Mapping annotation goes here . public OpeningHours getOpeningHours () { // Access to the original class is achieved with a call to getInstance. return Zoo . getInstance (). getOpeningHours (); } } Resource Mapping with Annotations Note: Below annotation syntax can only be used in classes annotated with @RestController . Resource mappings (these annotations decorate functions) Annotations types: Get Put Post Delete @GetMapping(\"...\") @PutMapping(\"...\") @PostMapping(\"...\") @DeleteMapping(\"...\") Arguments: Static: Full resource path within quotes, e.g.: \"zoo/animals\" Dynamic: Full resource path within quotes. Any dynamic placeholder on path is marked by curly brackets , e.g.: \"zoo/animals/{animalname}\" Parameter mapping (these annotations decorate function parameters) Pathvariable: @PathVariable(\"animalname\") Request body: @RequestBody Build and Run These instructions are to build and run from command line. While developing in IntelliJ you can safly use the \"green triangle button\" next to your new spring launcher class. The first time you start your REST application you might see a warning about incoming connections. Select \" Allow \". At some point you also need to build your application into a self contained artifact: Mac OS / Linux Windows Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target/zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml . Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target\\zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml .","title":"Zoo manual"},{"location":"zoo-manual/#project-layout-overview","text":"A manual RESTification is a series of five activities: Loading of legacy sources into Integrated Development Environment (IntelliJ IDE) Adjustment of the build configuration file: pom.xml Replacement of the launcher class Removal of singleton pattern or creation of proxy controllers Decoration of REST controllers and target functions with Spring annotations","title":"Project Layout Overview"},{"location":"zoo-manual/#loading-legacy-sources-into-ide","text":"Start IntelliJ. Use the \" Open \" option to get to the selection dialogue: Select the cloned project root folder, then click the \" Open \" button:","title":"Loading Legacy Sources into IDE"},{"location":"zoo-manual/#build-configuration-changes","text":"Want to see all Zoo-RESTify pom.xml changes at a glance? Run git diff master..RESTified pom.xml . Green lines were added for RESTification, red lines were removed. Artifact properties: Adjust artifactId . Change suffix to \"restified\" Adjust name . Change suffix to \"restified\" Update developer information: Remove the email and organizationUrl lines Change name to your personal codename , e.g. \" blue snail \" (see my email) Change organization to \" university.country \" Parent: Declare inheritance from spring boot parent. Place below snippet right after the <license>...</license> block: <!-- this parent block lets this maven project extend a prepared spring specific template.--> <parent> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-parent </artifactId> <version> 2.3.0.RELEASE </version> </parent> Dependencies: Declare dependency towards spring boot artifact: <!-- This block adds spring boot as a dependency, so we can use the parent pom configuration and non-standard annotations.--> <dependency> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-starter-web </artifactId> <version> 2.3.0.RELEASE </version> </dependency> Final Name Add \"Restified\" as suffix to the finalName attribute value Build plugins: Remove plugin for legacy launcher class: <!-- specify main class for exec goal --> <plugin> <groupId> org.codehaus.mojo </groupId> <artifactId> exec-maven-plugin </artifactId> <version> 1.6.0 </version> <executions> <execution> <goals> <goal> java </goal> </goals> </execution> </executions> <configuration> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </configuration> </plugin> Remove plugin for legacy compilation to self contained JAR: <!-- specify main class for JAR manifest--> <plugin> <groupId> org.apache.maven.plugins </groupId> <artifactId> maven-jar-plugin </artifactId> <version> 3.2.0 </version> <configuration> <archive> <manifest> <mainClass> eu.anonymous4doubleblinded.zoo.DesktopLauncher </mainClass> </manifest> </archive> </configuration> </plugin> Add plugin for spring-boot launcher class: (Don't create the new launcher class yet!) Don't forget to adapt the mainClass tag! <!-- Spring specific build plugin, produces self contained JAR with default launcher class.--> <plugin> <groupId> org.springframework.boot </groupId> <artifactId> spring-boot-maven-plugin </artifactId> <configuration> <fork> true </fork> <!-- Replace \"zoo\" by actual package name in next line! --> <mainClass> eu.anonymous4doubleblinded.zoo.RestLauncher </mainClass> </configuration> <executions> <execution> <goals> <goal> repackage </goal> </goals> </execution> </executions> </plugin> Note: Some changes might note take full effect until you manually reload the pom.xml file. To do so, right click the pom.xml file and select: Maven -> Reload Project","title":"Build Configuration Changes"},{"location":"zoo-manual/#java-code-changes","text":"Hint : You can use git to see all java changes made to the Zoo for manual RESTification. Run: git diff master..RESTified *java Green lines were added for RESTification, red lines were removed.","title":"Java Code Changes"},{"location":"zoo-manual/#remove-conflicting-files","text":"You have to delete two things: The legacy launcher, located in src/main/java/eu/karotffelquadrat/*/DesktopLauncher.java The legacy unit tests. Remove the entire test folder: src/test (This part has been skipped in the Zoo explanatory video, since there were no test classes)","title":"Remove conflicting files"},{"location":"zoo-manual/#launcher","text":"First thing to do is the creation of a new launcher class. It should be placed anywhere within the src/main/java/eu/anonymous4doubleblinded/... directory. Create it by right clicking on the eu.anonymous4doubleblinded... package: Enter RestLauncher as class name, do not type the .java extension. IntelliJ will handle that for you. Code of the RestLauncher.java class. (Replaces the legacy launcher) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package eu.anonymous4doubleblinded.zoo ; <----- Replace \"zoo\" by whatever application you are working on import org.springframework.boot.SpringApplication ; import org.springframework.boot.autoconfigure.SpringBootApplication ; /** * This class powers up Spring and ensures the annotated controllers are detected. */ @SpringBootApplication public class RestLauncher { public static void main ( String [] args ) { SpringApplication . run ( RestLauncher . class , args ); } }","title":"Launcher"},{"location":"zoo-manual/#beans-and-singletons","text":"Spring creates new instances of classes annotated with: @RestController The existing singleton pattern is bypassed, since Spring uses reflection to gain constructor access, even if the declared constructor is private. Having both @RestController and a getInstance method in the same class is dangerous. There are two ways to side-step inconsistency issues: Autowiring (Recommended) Proxy Classes If you chose Autowiring , you do not create new classes. You directly annotate the relevant existing classes with @RestController . This tells Spring to create one instance per annotated class, using a default constructor. Any existing singleton pattern is therefore obsolete: If you annotated a class with @RestController , make sure to remove the singleton pattern (the getInstance method) and make the default constructor public. Whenever an instance of such an annotated class is required, you can obtain the spring maintained instance with @Autowired . Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package eu.anonymous4doubleblinded.zoo ; import org.springframework.beans.factory.annotation.Autowired ; import org.springframework.web.bind.annotation.RestController ; @RestController public class FooController { /* @Autowired ensures the zoo field is set after instantiation of FooController, given Zoo is annotated with @RestController. */ @Autowired Zoo zoo ; public void bar () { // Here you can access the zoo instance using the local, autowired field (instead of calling the obsolete getInstance method) zoo . getOpeningHours (); } } Autowired fields are only accessible after class instantiation. Do not invoke methods that require autowired values from a constructor, or you will get a NullPointerException at runtime. Instead annotate those methods with @PostConstruct . This advises spring to invoke a method after class instantiation. If you chose Proxy Classes , you do annotate the existing classes. You instead replicate every existing relevant class and place all annotations in the replica. The replica acts as proxy that forwards every method call to the original, using getInstance() . Keep the singleton pattern in the original java classes. They remain untouched. Instead place an @RestController annotation in every proxy class created. Example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package eu.anonymous4doubleblinded.zoo ; import org.springframework.web.bind.annotation.RestController ; /** This Proxy class is decorated with @RestController, instead of the original singleton class. Any required method of the original class can be proxied with an internal getInstance call. */ @RestController public class ZooController { /** Proxied access to a method of the original / singleton class . // Mapping annotation goes here . public OpeningHours getOpeningHours () { // Access to the original class is achieved with a call to getInstance. return Zoo . getInstance (). getOpeningHours (); } }","title":"Beans and Singletons"},{"location":"zoo-manual/#resource-mapping-with-annotations","text":"Note: Below annotation syntax can only be used in classes annotated with @RestController . Resource mappings (these annotations decorate functions) Annotations types: Get Put Post Delete @GetMapping(\"...\") @PutMapping(\"...\") @PostMapping(\"...\") @DeleteMapping(\"...\") Arguments: Static: Full resource path within quotes, e.g.: \"zoo/animals\" Dynamic: Full resource path within quotes. Any dynamic placeholder on path is marked by curly brackets , e.g.: \"zoo/animals/{animalname}\" Parameter mapping (these annotations decorate function parameters) Pathvariable: @PathVariable(\"animalname\") Request body: @RequestBody","title":"Resource Mapping with Annotations"},{"location":"zoo-manual/#build-and-run","text":"These instructions are to build and run from command line. While developing in IntelliJ you can safly use the \"green triangle button\" next to your new spring launcher class. The first time you start your REST application you might see a warning about incoming connections. Select \" Allow \". At some point you also need to build your application into a self contained artifact: Mac OS / Linux Windows Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target/zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml . Build a self contained executable jar file: mvn clean package Run the jar file: java -jar target\\zoorestified.jar zoorestified is the name you provided as finalName in your pom.xml .","title":"Build and Run"},{"location":"zoo-touchcore/","text":"I will now illustrate the steps of a TouchCORE assisted conversion to a RESTful service on the example of the Zoo. I will use the previously shown Zoo REST interface description . Afterwards, your task will be to apply the same TouchCORE assisted methodology on a different application. Your task is not to replicate the Zoo conversion while you are watching. Please now watch this screencast where I demonstrate and explain TouchCORE usage. Below you then find a summary of the main steps. If anything does not work as expected, take a look at the Troubleshoot section . Load TouchCORE Project Locate the TouchCORE release folder Launch TouchCORE: java -jar TouchCORE.jar Load the prepared Zoo model: Click the folder icon. Navigate to the provided Class Diagram Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Inspect the Class Diagram (Business Logic) Draw ResTL Model Use the Navigation bar to leave the Class Diagram Open the \"ResTL\" perspective: Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Open the \"Exposed Interface\" model Modify the ResTL model according to the provided Interface Description Drag down to add new resources to the tree (start dragging slightly under an existing box) Click the circles to enable Get / Put / Post / Delete methods for a resource. If you made a mistake, either tap and hold on a resource to remove it double click a resource to rename it Resource and Parameter Mapping While in the ResTL perspective, additionally open the Class Diagram perspective in split-view mode. Click the Split-View Button Select the Class Diagram model Drag lines to establish mappings Connect Resource Methods (circles) to Class Operations Connect Dynamic Resources (text in boxes) to Operation Parameters Heads-up : A correctly mapped model showcases lines of both colours, blue and green ! If you only see one colour you may have forgotten parameter mappings. Code Generation Make sure the original application is registered in your system: Clone the sources of the original (unrestified) java application Install it as library, with mvn clean install Generate the RESTified code with the Transformator button Build and Run your REST service Navigate to your TouchCORE model directory Open a terminal in the new generated sources folder Run the RESTful service with: mvn clean package spring-boot:run Test any Get operation with your browser, e.g.: http://127.0.0.1:8080/zoo/animals","title":"Zoo touchcore"},{"location":"zoo-touchcore/#load-touchcore-project","text":"Locate the TouchCORE release folder Launch TouchCORE: java -jar TouchCORE.jar Load the prepared Zoo model: Click the folder icon. Navigate to the provided Class Diagram Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Inspect the Class Diagram (Business Logic)","title":"Load TouchCORE Project"},{"location":"zoo-touchcore/#draw-restl-model","text":"Use the Navigation bar to leave the Class Diagram Open the \"ResTL\" perspective: Tap and hold the \"Zoo\" box Select \" Open Realization Model \" Open the \"Exposed Interface\" model Modify the ResTL model according to the provided Interface Description Drag down to add new resources to the tree (start dragging slightly under an existing box) Click the circles to enable Get / Put / Post / Delete methods for a resource. If you made a mistake, either tap and hold on a resource to remove it double click a resource to rename it","title":"Draw ResTL Model"},{"location":"zoo-touchcore/#resource-and-parameter-mapping","text":"While in the ResTL perspective, additionally open the Class Diagram perspective in split-view mode. Click the Split-View Button Select the Class Diagram model Drag lines to establish mappings Connect Resource Methods (circles) to Class Operations Connect Dynamic Resources (text in boxes) to Operation Parameters Heads-up : A correctly mapped model showcases lines of both colours, blue and green ! If you only see one colour you may have forgotten parameter mappings.","title":"Resource and Parameter Mapping"},{"location":"zoo-touchcore/#code-generation","text":"Make sure the original application is registered in your system: Clone the sources of the original (unrestified) java application Install it as library, with mvn clean install Generate the RESTified code with the Transformator button","title":"Code Generation"},{"location":"zoo-touchcore/#build-and-run-your-rest-service","text":"Navigate to your TouchCORE model directory Open a terminal in the new generated sources folder Run the RESTful service with: mvn clean package spring-boot:run Test any Get operation with your browser, e.g.: http://127.0.0.1:8080/zoo/animals","title":"Build and Run your REST service"}]}